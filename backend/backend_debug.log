C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\assistant\service.py:2: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:     Started server process [13796]
INFO:     Waiting for application startup.
2026-02-17 22:49:46,554 [INFO] app.main: Starting background services...
2026-02-17 22:49:46,554 [INFO] app.main: EcoSync Backend Initialized Successfully.
2026-02-17 22:49:46,554 [INFO] app.main: Startup: Background tasks initiated (Polling Enabled)
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
Loading environment from: C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\.env.local
--- DATABASE INITIALIZATION ---
URL: aws-1-ap-south-1.pooler.supabase.com:6543/postgres?sslmode=require
Creating new Admin user: gitams4@gmail.com
Admin user created: gitams4@gmail.com
[Cache] Refreshed 15 markers at 2026-02-17 17:19:46.643513
INFO:     127.0.0.1:56726 - "GET /health HTTP/1.1" 200 OK
>>> TRACE: get_db starting at 2026-02-17T22:50:11.823484
>>> TRACE: Login attempt for qwerty@g.in at 2026-02-17T22:50:11.823791
>>> TRACE: User lookup took 0.058496s
DEBUG: User qwerty@g.in not found
>>> TRACE: get_db closing at 2026-02-17T22:50:11.883105
INFO:     127.0.0.1:56730 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:20:16.658269
[Cache] Refreshed 15 markers at 2026-02-17 17:20:46.721454
[Cache] Refreshed 15 markers at 2026-02-17 17:21:16.727471
>>> TRACE: get_db starting at 2026-02-17T22:51:21.991720
>>> TRACE: Login attempt for gitams4@gmail.com at 2026-02-17T22:51:21.992344
>>> TRACE: User lookup took 0.163288s
>>> TRACE: Verifying password for gitams4@gmail.com
>>> TRACE: Password verification FAILED after 0.34057s
>>> TRACE: get_db closing at 2026-02-17T22:51:22.496814
INFO:     127.0.0.1:64662 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:21:46.794839
[Cache] Refreshed 15 markers at 2026-02-17 17:22:16.800605
[Cache] Refreshed 15 markers at 2026-02-17 17:22:46.865032
[Cache] Refreshed 15 markers at 2026-02-17 17:23:16.880357
[Cache] Refreshed 15 markers at 2026-02-17 17:23:46.945936
>>> TRACE: get_db starting at 2026-02-17T22:53:59.379186
>>> TRACE: Login attempt for qwerty@g.in at 2026-02-17T22:53:59.380220
>>> TRACE: User lookup took 0.049815s
DEBUG: User qwerty@g.in not found
>>> TRACE: get_db closing at 2026-02-17T22:53:59.430947
INFO:     127.0.0.1:49189 - "POST /token HTTP/1.1" 401 Unauthorized
>>> TRACE: get_db starting at 2026-02-17T22:54:07.146207
>>> TRACE: Login attempt for qwe@gmail.com at 2026-02-17T22:54:07.147104
>>> TRACE: User lookup took 0.05955s
DEBUG: User qwe@gmail.com not found
>>> TRACE: get_db closing at 2026-02-17T22:54:07.208318
INFO:     127.0.0.1:64649 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:24:16.956482
[Cache] Refreshed 15 markers at 2026-02-17 17:24:47.216238
[Cache] Refreshed 15 markers at 2026-02-17 17:25:17.225344
[Cache] Refreshed 15 markers at 2026-02-17 17:25:47.292313
[Cache] Refreshed 15 markers at 2026-02-17 17:26:17.308944
>>> TRACE: get_db starting at 2026-02-17T22:56:23.643213
>>> TRACE: Login attempt for qwe@gmail.com at 2026-02-17T22:56:23.644116
>>> TRACE: User lookup took 0.050143s
DEBUG: User qwe@gmail.com not found
>>> TRACE: get_db closing at 2026-02-17T22:56:23.695184
INFO:     127.0.0.1:51470 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:26:47.380762
[Cache] Refreshed 15 markers at 2026-02-17 17:27:17.382459
[Cache] Refreshed 15 markers at 2026-02-17 17:27:47.458174
[Cache] Refreshed 15 markers at 2026-02-17 17:28:17.463484
>>> TRACE: get_db starting at 2026-02-17T22:58:19.123831
>>> TRACE: Login attempt for qwe@gmail.com at 2026-02-17T22:58:19.124790
>>> TRACE: User lookup took 0.081597s
DEBUG: User qwe@gmail.com not found
>>> TRACE: get_db closing at 2026-02-17T22:58:19.207255
INFO:     127.0.0.1:64219 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:28:47.534911
>>> TRACE: get_db starting at 2026-02-17T22:59:00.557815
>>> TRACE: Login attempt for qwe@gmail.com at 2026-02-17T22:59:00.558591
>>> TRACE: User lookup took 0.078551s
DEBUG: User qwe@gmail.com not found
>>> TRACE: get_db closing at 2026-02-17T22:59:00.638289
INFO:     127.0.0.1:64379 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:29:17.544031
[Cache] Refreshed 15 markers at 2026-02-17 17:29:48.922797
[Cache] Refreshed 15 markers at 2026-02-17 17:30:18.934520
[Cache] Refreshed 15 markers at 2026-02-17 17:30:49.030215
[Cache] Refreshed 15 markers at 2026-02-17 17:31:19.043561
[Cache] Refreshed 15 markers at 2026-02-17 17:31:49.112818
[Cache] Refreshed 15 markers at 2026-02-17 17:32:19.118946
>>> TRACE: get_db starting at 2026-02-17T23:02:36.845754
>>> TRACE: Login attempt for qwe@gmail.com at 2026-02-17T23:02:36.847324
>>> TRACE: User lookup took 0.116428s
DEBUG: User qwe@gmail.com not found
>>> TRACE: get_db closing at 2026-02-17T23:02:36.965090
INFO:     127.0.0.1:55860 - "POST /token HTTP/1.1" 401 Unauthorized
[Cache] Refreshed 15 markers at 2026-02-17 17:32:49.209125
>>> TRACE: get_db starting at 2026-02-17T23:03:03.638464
DEBUG REGISTER PAYLOAD: {'email': 'qwerty@gmail.in', 'password': 'qwerty', 'first_name': 'q', 'last_name': 'w', 'plan': 'lite', 'location_name': 'Doddaballapura', 'location_lat': 13.282257000000001, 'location_lon': 77.59655947605137}
INFO:     127.0.0.1:62101 - "POST /auth/register HTTP/1.1" 200 OK
>>> TRACE: get_db closing at 2026-02-17T23:03:05.008866
>>> TRACE: get_db starting at 2026-02-17T23:03:13.817614
>>> TRACE: Login attempt for qwerty@gmail.in at 2026-02-17T23:03:13.818783
>>> TRACE: User lookup took 0.050641s
>>> TRACE: Verifying password for qwerty@gmail.in
>>> TRACE: Password verification success in 0.975479s
>>> TRACE: Token generation took 0.000662s
>>> TRACE: Login success for qwerty@gmail.in. Total time: 1.026782s
INFO:     127.0.0.1:64375 - "POST /token HTTP/1.1" 200 OK
>>> TRACE: get_db closing at 2026-02-17T23:03:14.849836
[Cache] Refreshed 15 markers at 2026-02-17 17:33:19.213362
INFO:     127.0.0.1:63885 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57889 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60410 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54984 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
>>> TRACE: get_db starting at 2026-02-17T23:03:31.399850
Updating location for qwerty@gmail.in
   New location:  (13.282259664099023, 77.59656192877573)
Location updated successfully for qwerty@gmail.in
INFO:     127.0.0.1:57752 - "PUT /api/user/location HTTP/1.1" 200 OK
>>> TRACE: get_db closing at 2026-02-17T23:03:31.641165
INFO:     127.0.0.1:53261 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49703 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60795 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53127 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59234 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57269 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:33:49.309992
INFO:     127.0.0.1:62128 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61366 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49181 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63759 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49679 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65358 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:58241 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49679 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50721 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49926 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:34:19.318874
INFO:     127.0.0.1:59948 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57370 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64465 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56749 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65099 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57122 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53646 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51715 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51895 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53404 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:34:49.384984
INFO:     127.0.0.1:62813 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63046 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54076 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61285 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56290 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50556 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59308 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50340 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:35:19.388846
INFO:     127.0.0.1:59408 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:35:49.459334
INFO:     127.0.0.1:63887 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54807 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52320 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65226 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63752 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56566 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59301 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51414 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:36:19.470471
INFO:     127.0.0.1:59358 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59222 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49681 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53903 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59973 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59508 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55658 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51689 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54115 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54166 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:36:49.547909
INFO:     127.0.0.1:64375 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50120 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61606 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:37:19.552239
INFO:     127.0.0.1:64859 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:37:49.626198
[Cache] Refreshed 15 markers at 2026-02-17 17:38:19.639813
INFO:     127.0.0.1:50773 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:38:49.705511
[Cache] Refreshed 15 markers at 2026-02-17 17:39:19.714808
INFO:     127.0.0.1:59720 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:39:50.618338
[Cache] Refreshed 15 markers at 2026-02-17 17:40:20.630458
INFO:     127.0.0.1:49679 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:40:50.710065
[Cache] Refreshed 15 markers at 2026-02-17 17:41:20.721487
INFO:     127.0.0.1:54170 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:41:50.815504
[Cache] Refreshed 15 markers at 2026-02-17 17:42:20.822880
INFO:     127.0.0.1:53617 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:42:50.919641
[Cache] Refreshed 15 markers at 2026-02-17 17:43:20.922988
INFO:     127.0.0.1:54828 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:43:50.994705
[Cache] Refreshed 15 markers at 2026-02-17 17:44:21.002389
INFO:     127.0.0.1:50834 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:44:51.256805
[Cache] Refreshed 15 markers at 2026-02-17 17:45:21.272908
INFO:     127.0.0.1:61683 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:45:51.348078
[Cache] Refreshed 15 markers at 2026-02-17 17:46:21.356240
INFO:     127.0.0.1:60952 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:46:51.421743
[Cache] Refreshed 15 markers at 2026-02-17 17:47:21.437081
INFO:     127.0.0.1:65122 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:47:51.507622
[Cache] Refreshed 15 markers at 2026-02-17 17:48:21.520314
INFO:     127.0.0.1:65420 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:48:51.584833
[Cache] Refreshed 15 markers at 2026-02-17 17:49:21.589957
INFO:     127.0.0.1:56566 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:49:52.434602
[Cache] Refreshed 15 markers at 2026-02-17 17:50:22.449475
INFO:     127.0.0.1:50269 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:50:52.511838
[Cache] Refreshed 15 markers at 2026-02-17 17:51:22.514149
INFO:     127.0.0.1:60145 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:51:52.604782
[Cache] Refreshed 15 markers at 2026-02-17 17:52:22.618902
INFO:     127.0.0.1:63836 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:52:52.686006
[Cache] Refreshed 15 markers at 2026-02-17 17:53:22.690620
INFO:     127.0.0.1:54132 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:53:52.853233
[Cache] Refreshed 15 markers at 2026-02-17 17:54:22.854990
INFO:     127.0.0.1:54998 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:54:54.223947
[Cache] Refreshed 15 markers at 2026-02-17 17:55:24.228201
INFO:     127.0.0.1:50847 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:55:54.307504
[Cache] Refreshed 15 markers at 2026-02-17 17:56:24.319350
INFO:     127.0.0.1:52956 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:56:54.382846
[Cache] Refreshed 15 markers at 2026-02-17 17:57:24.384745
INFO:     127.0.0.1:64330 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:57:54.469752
[Cache] Refreshed 15 markers at 2026-02-17 17:58:24.480335
INFO:     127.0.0.1:56302 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:58:54.572693
INFO:     127.0.0.1:62326 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59806 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:59:24.588284
INFO:     127.0.0.1:55720 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62626 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57120 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52851 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52318 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55705 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57025 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50470 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52293 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50366 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 17:59:54.939965
INFO:     127.0.0.1:60753 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63324 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55410 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60358 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51475 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63660 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52422 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54297 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51724 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55082 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:00:24.948699
INFO:     127.0.0.1:63196 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55890 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57395 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59303 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65477 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49772 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50487 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54467 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57837 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63349 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:00:55.024752
INFO:     127.0.0.1:60609 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56451 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:58658 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60201 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63148 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60286 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60326 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60945 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56132 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65410 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:01:25.029580
INFO:     127.0.0.1:59360 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57189 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55003 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:55694 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:58634 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51291 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64124 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53130 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62580 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60679 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:01:55.106461
INFO:     127.0.0.1:59815 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62317 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62058 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:65205 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64657 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62955 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51382 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52314 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52005 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59490 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:02:25.107981
INFO:     127.0.0.1:51672 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:58917 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62785 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52245 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63408 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61466 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59513 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51563 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50061 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:63681 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:02:55.204022
INFO:     127.0.0.1:50359 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53584 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64348 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54772 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62798 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54724 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57347 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61988 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50061 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64817 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:03:25.208518
INFO:     127.0.0.1:59333 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49680 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52200 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:57222 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52284 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:60330 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49909 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59953 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54104 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62811 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:03:55.281595
INFO:     127.0.0.1:50061 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:64026 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49680 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:54044 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61387 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53605 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51354 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61977 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53756 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:50365 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:04:25.296981
INFO:     127.0.0.1:56153 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53133 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:51579 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:59499 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:61490 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:62350 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:58576 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:56408 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:53535 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:52484 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:04:55.370744
INFO:     127.0.0.1:59339 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
INFO:     127.0.0.1:49849 - "GET /api/filtered/latest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\app\main.py", line 835, in get_filtered_iot_data
    ).order_by(models.SensorData.timestamp.desc()).first()
                                                   ~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column sensor_data.mq_raw does not exist
LINE 1: ...data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_dat...
                                                             ^

[SQL: SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data 
WHERE sensor_data.device_id = %(device_id_1)s ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s]
[parameters: {'device_id_1': 'ESP32_MAIN', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-17 23:35:07,004 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 6, 685236), 'temperature': np.float64(25.486363636363638), 'humidity': np.float64(56.02511013215859), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.570093457943912), 'pm10': 0.0, 'mq_raw': 715.0, 'gas': 715.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54388 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:07,385 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 7, 146047), 'temperature': np.float64(21.68491040553285), 'humidity': np.float64(51.29919255002679), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.693206670042017), 'pm10': 0.0, 'mq_raw': 712.0, 'gas': 714.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52040 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:07,926 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 7, 706424), 'temperature': np.float64(21.652845647968597), 'humidity': np.float64(51.281045612517254), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.728236064647419), 'pm10': 0.0, 'mq_raw': 711.0, 'gas': 713.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63018 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:09,039 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 8, 270125), 'temperature': np.float64(21.67478709118229), 'humidity': np.float64(51.29164833715193), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.732382430206968), 'pm10': 0.0, 'mq_raw': 706.0, 'gas': 711.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54659 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:09,281 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 9, 63950), 'temperature': np.float64(21.676024276321694), 'humidity': np.float64(50.96310583134121), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.643667514641677), 'pm10': 0.0, 'mq_raw': 706.0, 'gas': 710.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52308 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:09,707 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 9, 472449), 'temperature': np.float64(21.667480201535156), 'humidity': np.float64(50.80808151480086), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.607933056064184), 'pm10': 0.0, 'mq_raw': 705.0, 'gas': 708.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62857 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:10,173 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 9, 940180), 'temperature': np.float64(21.668080546336085), 'humidity': np.float64(50.732716998747094), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.590821563806323), 'pm10': 0.0, 'mq_raw': 704.0, 'gas': 706.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62870 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:10,712 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 10, 492712), 'temperature': np.float64(21.66856949959223), 'humidity': np.float64(50.65395051456029), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.571157786370435), 'pm10': 0.0, 'mq_raw': 701.0, 'gas': 704.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62360 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:11,268 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 11, 71991), 'temperature': np.float64(21.667734816502122), 'humidity': np.float64(50.245899400474585), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.46267280123027), 'pm10': 0.0, 'mq_raw': 698.0, 'gas': 702.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60703 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:12,447 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 11, 626295), 'temperature': np.float64(21.658408218895193), 'humidity': np.float64(50.09380553561121), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.429293379948717), 'pm10': 0.0, 'mq_raw': 695.0, 'gas': 700.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57117 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:12,918 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 12, 466827), 'temperature': np.float64(21.6602670690981), 'humidity': np.float64(49.936788339526885), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.390198842344596), 'pm10': 0.0, 'mq_raw': 693.0, 'gas': 698.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59365 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:13,155 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 12, 933318), 'temperature': np.float64(21.658681993867376), 'humidity': np.float64(49.860370100614745), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.37268000101811), 'pm10': 0.0, 'mq_raw': 692.0, 'gas': 695.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60950 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:13,608 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 13, 406848), 'temperature': np.float64(21.6590506867622), 'humidity': np.float64(49.781585261735785), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.353023770943636), 'pm10': 0.0, 'mq_raw': 691.0, 'gas': 693.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57044 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:14,058 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 13, 862193), 'temperature': np.float64(21.65822497996853), 'humidity': np.float64(49.78446279653843), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.35534649460648), 'pm10': 0.0, 'mq_raw': 689.0, 'gas': 692.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56606 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:14,621 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 14, 410459), 'temperature': np.float64(21.65946848116505), 'humidity': np.float64(49.78498917036231), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.355522936468823), 'pm10': 0.0, 'mq_raw': 687.0, 'gas': 690.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60349 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:15,199 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 14, 995598), 'temperature': np.float64(21.659508108381573), 'humidity': np.float64(49.702803056254915), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.333353724564986), 'pm10': 0.0, 'mq_raw': 685.0, 'gas': 688.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52190 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:15,769 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 15, 536615), 'temperature': np.float64(21.657388357916616), 'humidity': np.float64(49.70514989870158), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335505745571119), 'pm10': 0.0, 'mq_raw': 684.0, 'gas': 687.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54282 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:17,451 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 16, 114937), 'temperature': np.float64(21.65859734050637), 'humidity': np.float64(49.70568058529339), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335691597806452), 'pm10': 0.0, 'mq_raw': 683.0, 'gas': 685.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65189 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:17,681 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 17, 468004), 'temperature': np.float64(21.65864331429931), 'humidity': np.float64(49.70568223450944), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335684654335019), 'pm10': 0.0, 'mq_raw': 680.0, 'gas': 683.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64338 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:17,969 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 17, 721690), 'temperature': np.float64(21.658637770727147), 'humidity': np.float64(49.70567928017881), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683408258141), 'pm10': 0.0, 'mq_raw': 676.0, 'gas': 681.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50251 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:18,261 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 18, 28670), 'temperature': np.float64(21.658637354928977), 'humidity': np.float64(49.70567918779888), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683412488272), 'pm10': 0.0, 'mq_raw': 672.0, 'gas': 679.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:18,699 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 18, 425770), 'temperature': np.float64(21.658637374585073), 'humidity': np.float64(49.705679201906676), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419652966), 'pm10': 0.0, 'mq_raw': 670.0, 'gas': 676.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53784 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:19,171 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 18, 931359), 'temperature': np.float64(21.658637377488738), 'humidity': np.float64(49.705679202825635), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419830467), 'pm10': 0.0, 'mq_raw': 669.0, 'gas': 673.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61079 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:19,630 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 19, 425776), 'temperature': np.float64(21.658637377459222), 'humidity': np.float64(49.7056792027717), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419794947), 'pm10': 0.0, 'mq_raw': 668.0, 'gas': 671.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62021 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:20,267 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 20, 7148), 'temperature': np.float64(21.658637377441977), 'humidity': np.float64(49.70567920276499), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419792943), 'pm10': 0.0, 'mq_raw': 664.0, 'gas': 668.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60544 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:20,802 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 20, 560536), 'temperature': np.float64(21.658637377441657), 'humidity': np.float64(49.705679202765104), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419793085), 'pm10': 0.0, 'mq_raw': 661.0, 'gas': 666.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63446 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:21,309 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 21, 115241), 'temperature': np.float64(21.65863737744175), 'humidity': np.float64(49.705679202765154), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.335683419793106), 'pm10': 0.0, 'mq_raw': 658.0, 'gas': 664.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56326 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:21,894 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 21, 695191), 'temperature': np.float64(21.65863737744175), 'humidity': np.float64(49.70567920276514), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.3356834197931), 'pm10': 0.0, 'mq_raw': 656.0, 'gas': 661.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59228 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:22,448 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 22, 246932), 'temperature': np.float64(21.65863737744175), 'humidity': np.float64(49.37694063735784), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.247039265132678), 'pm10': 0.0, 'mq_raw': 655.0, 'gas': 658.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52167 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:23,083 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 22, 804905), 'temperature': np.float64(21.650182044275077), 'humidity': np.float64(49.221970795289636), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.211330181584913), 'pm10': 0.0, 'mq_raw': 651.0, 'gas': 656.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53919 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:23,871 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 23, 381460), 'temperature': np.float64(21.65079186971203), 'humidity': np.float64(49.14660892665886), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.194219001921837), 'pm10': 0.0, 'mq_raw': 651.0, 'gas': 654.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53929 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:24,639 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 24, 170591), 'temperature': np.float64(21.651280587673646), 'humidity': np.float64(49.0678422088823), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.174555089793913), 'pm10': 0.0, 'mq_raw': 649.0, 'gas': 652.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64144 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:24,850 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 24, 656986), 'temperature': np.float64(21.65044584436165), 'humidity': np.float64(48.98852963866772), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.15471425376004), 'pm10': 0.0, 'mq_raw': 647.0, 'gas': 650.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60663 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:25,325 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 25, 61415), 'temperature': np.float64(21.649574579558816), 'humidity': np.float64(48.99140561658792), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.157043916631714), 'pm10': 0.0, 'mq_raw': 644.0, 'gas': 648.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61426 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:25,805 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 25, 580136), 'temperature': np.float64(21.650823604655095), 'humidity': np.float64(48.90975028927626), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.135060558739092), 'pm10': 0.0, 'mq_raw': 643.0, 'gas': 646.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:05:25.371604
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59738 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:26,326 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 26, 129408), 'temperature': np.float64(21.64874981147409), 'humidity': np.float64(48.91209876814061), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137205629538464), 'pm10': 0.0, 'mq_raw': 641.0, 'gas': 644.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55385 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:26,946 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 26, 705061), 'temperature': np.float64(21.649953247679363), 'humidity': np.float64(48.91262649947542), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137390235497534), 'pm10': 0.0, 'mq_raw': 640.0, 'gas': 643.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62835 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:27,750 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 27, 255333), 'temperature': np.float64(21.64999880568842), 'humidity': np.float64(48.91262805635785), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13738329628871), 'pm10': 0.0, 'mq_raw': 640.0, 'gas': 641.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64741 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:28,072 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 27, 874476), 'temperature': np.float64(21.649993281788667), 'humidity': np.float64(48.91262511614157), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382057378566), 'pm10': 0.0, 'mq_raw': 637.0, 'gas': 640.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54466 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:28,559 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 28, 362388), 'temperature': np.float64(21.649992868894522), 'humidity': np.float64(48.91262502468051), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13738206178607), 'pm10': 0.0, 'mq_raw': 635.0, 'gas': 638.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61393 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:29,150 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 28, 942735), 'temperature': np.float64(21.64999288852103), 'humidity': np.float64(48.91262503873433), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13738206891523), 'pm10': 0.0, 'mq_raw': 631.0, 'gas': 636.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55686 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:29,694 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 29, 496056), 'temperature': np.float64(21.649992891407436), 'humidity': np.float64(48.91262503964658), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069090727), 'pm10': 0.0, 'mq_raw': 629.0, 'gas': 634.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65098 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:30,417 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 30, 48464), 'temperature': np.float64(21.64999289137761), 'humidity': np.float64(48.91262503959276), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069055349), 'pm10': 0.0, 'mq_raw': 627.0, 'gas': 631.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50448 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:30,908 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 30, 702931), 'temperature': np.float64(21.64999289136045), 'humidity': np.float64(48.91262503958609), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053366), 'pm10': 0.0, 'mq_raw': 625.0, 'gas': 629.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63786 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:31,408 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 31, 200045), 'temperature': np.float64(21.649992891360142), 'humidity': np.float64(48.9126250395862), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053508), 'pm10': 0.0, 'mq_raw': 625.0, 'gas': 627.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56992 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:31,955 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 31, 736227), 'temperature': np.float64(21.64999289136022), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 618.0, 'gas': 624.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56213 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:32,560 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 32, 290304), 'temperature': np.float64(21.64999289136023), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 617.0, 'gas': 622.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57473 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:33,427 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 32, 849055), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 616.0, 'gas': 620.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53588 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:34,018 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 33, 442787), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 615.0, 'gas': 618.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56409 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:34,620 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 34, 32954), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 615.0, 'gas': 616.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54191 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:35,087 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 34, 636445), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 614.0, 'gas': 615.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54292 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:35,357 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 35, 101861), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.912625039586246), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.137382069053523), 'pm10': 0.0, 'mq_raw': 613.0, 'gas': 614.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55882 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:36,033 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 35, 754916), 'temperature': np.float64(21.649992891360228), 'humidity': np.float64(48.58388647417894), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.048737914393094), 'pm10': 0.0, 'mq_raw': 612.0, 'gas': 613.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54510 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:36,619 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 36, 288188), 'temperature': np.float64(21.64153755819356), 'humidity': np.float64(48.42891663211074), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.013028830845329), 'pm10': 0.0, 'mq_raw': 610.0, 'gas': 612.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53050 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:37,152 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 36, 898094), 'temperature': np.float64(21.64214738363051), 'humidity': np.float64(48.35355476347995), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.995917651182253), 'pm10': 0.0, 'mq_raw': 608.0, 'gas': 611.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57315 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:37,720 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 37, 476587), 'temperature': np.float64(21.642636101592128), 'humidity': np.float64(48.2747880457034), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.976253739054336), 'pm10': 0.0, 'mq_raw': 606.0, 'gas': 609.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51821 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:38,227 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 37, 983053), 'temperature': np.float64(21.641801358280127), 'humidity': np.float64(48.19547547548882), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.956412903020457), 'pm10': 0.0, 'mq_raw': 603.0, 'gas': 607.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53512 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:38,692 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 38, 482241), 'temperature': np.float64(21.640930093477294), 'humidity': np.float64(48.198351453409025), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.958742565892138), 'pm10': 0.0, 'mq_raw': 601.0, 'gas': 605.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52847 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:39,261 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 39, 33086), 'temperature': np.float64(21.642179118573576), 'humidity': np.float64(48.11669612609736), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.936759207999515), 'pm10': 0.0, 'mq_raw': 599.0, 'gas': 603.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:40,392 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 39, 535935), 'temperature': np.float64(21.640105325392568), 'humidity': np.float64(48.119044604961715), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93890427879888), 'pm10': 0.0, 'mq_raw': 599.0, 'gas': 601.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64476 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:40,652 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 40, 412495), 'temperature': np.float64(21.64130876159785), 'humidity': np.float64(48.11957233629653), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939088884757957), 'pm10': 0.0, 'mq_raw': 597.0, 'gas': 599.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49766 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:41,011 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 40, 782038), 'temperature': np.float64(21.641354319606897), 'humidity': np.float64(48.11957389317895), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939081945549127), 'pm10': 0.0, 'mq_raw': 596.0, 'gas': 598.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62468 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:41,567 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 41, 328631), 'temperature': np.float64(21.64134879570714), 'humidity': np.float64(48.11957095296267), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93908070663899), 'pm10': 0.0, 'mq_raw': 595.0, 'gas': 597.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52745 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:42,044 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 41, 820527), 'temperature': np.float64(21.641348382813007), 'humidity': np.float64(48.119570861501614), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080711046493), 'pm10': 0.0, 'mq_raw': 594.0, 'gas': 596.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60140 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:42,600 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 42, 359472), 'temperature': np.float64(21.64134840243951), 'humidity': np.float64(48.11957087555543), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718175646), 'pm10': 0.0, 'mq_raw': 593.0, 'gas': 595.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51547 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:43,159 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 42, 933336), 'temperature': np.float64(21.64134840532592), 'humidity': np.float64(48.11957087646768), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93908071835115), 'pm10': 0.0, 'mq_raw': 592.0, 'gas': 594.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59286 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:43,678 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 43, 463104), 'temperature': np.float64(21.641348405296092), 'humidity': np.float64(48.11957087641386), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718315772), 'pm10': 0.0, 'mq_raw': 592.0, 'gas': 593.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65432 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:44,239 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 44, 13105), 'temperature': np.float64(21.64134840527893), 'humidity': np.float64(48.11957087640719), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313782), 'pm10': 0.0, 'mq_raw': 589.0, 'gas': 592.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62529 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:45,431 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 44, 668293), 'temperature': np.float64(21.641348405278613), 'humidity': np.float64(48.11957087640731), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313932), 'pm10': 0.0, 'mq_raw': 587.0, 'gas': 590.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53477 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:45,755 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 45, 448253), 'temperature': np.float64(21.641348405278706), 'humidity': np.float64(48.119570876407344), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313946), 'pm10': 0.0, 'mq_raw': 588.0, 'gas': 589.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58139 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:46,093 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 45, 769934), 'temperature': np.float64(21.641348405278713), 'humidity': np.float64(48.119570876407344), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313946), 'pm10': 0.0, 'mq_raw': 586.0, 'gas': 588.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:46,681 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 46, 442221), 'temperature': np.float64(21.64134840527871), 'humidity': np.float64(48.11957087640735), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313946), 'pm10': 0.0, 'mq_raw': 584.0, 'gas': 586.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63547 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:47,186 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 46, 962518), 'temperature': np.float64(21.64134840527871), 'humidity': np.float64(48.11957087640735), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.939080718313946), 'pm10': 0.0, 'mq_raw': 582.0, 'gas': 585.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54424 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:47,727 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 47, 463007), 'temperature': np.float64(21.559163763926886), 'humidity': np.float64(48.09740983774224), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.936966885022272), 'pm10': 0.0, 'mq_raw': 582.0, 'gas': 584.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65171 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:48,351 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 48, 137647), 'temperature': np.float64(21.561513624085745), 'humidity': np.float64(48.09956308618786), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.938176258027347), 'pm10': 0.0, 'mq_raw': 581.0, 'gas': 583.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56812 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:48,705 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 48, 498121), 'temperature': np.float64(21.562044387186575), 'humidity': np.float64(48.099748926715556), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.938222209338136), 'pm10': 0.0, 'mq_raw': 581.0, 'gas': 582.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60866 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:49,262 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 49, 36962), 'temperature': np.float64(21.479861380138438), 'humidity': np.float64(48.07758093730949), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93610282963472), 'pm10': 0.0, 'mq_raw': 581.0, 'gas': 581.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52580 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:49,855 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 49, 594624), 'temperature': np.float64(21.400023643763014), 'humidity': np.float64(48.057571900874954), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.935197953597239), 'pm10': 0.0, 'mq_raw': 580.0, 'gas': 581.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63558 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:50,445 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 50, 145117), 'temperature': np.float64(21.320719533351316), 'humidity': np.float64(48.03774995545051), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934339464294915), 'pm10': 0.0, 'mq_raw': 579.0, 'gas': 580.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56841 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:50,919 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 50, 706827), 'temperature': np.float64(21.323601805029), 'humidity': np.float64(48.04008210084938), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93558924510291), 'pm10': 0.0, 'mq_raw': 578.0, 'gas': 579.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60565 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:51,513 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 51, 279738), 'temperature': np.float64(21.241946606818043), 'humidity': np.float64(48.018098705933326), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.9335154009298), 'pm10': 0.0, 'mq_raw': 577.0, 'gas': 579.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56224 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:52,087 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 51, 832534), 'temperature': np.float64(21.244295053724592), 'humidity': np.float64(48.020243761654754), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93471883142847), 'pm10': 0.0, 'mq_raw': 577.0, 'gas': 578.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60193 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:52,626 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 52, 387444), 'temperature': np.float64(21.244822783430998), 'humidity': np.float64(48.02042836739929), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.93476438956543), 'pm10': 0.0, 'mq_raw': 577.0, 'gas': 577.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61265 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:53,210 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 52, 977164), 'temperature': np.float64(21.244824340448346), 'humidity': np.float64(48.020421428269685), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758865701532), 'pm10': 0.0, 'mq_raw': 576.0, 'gas': 577.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58053 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:53,812 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 53, 575913), 'temperature': np.float64(21.244821400245065), 'humidity': np.float64(48.02042018936298), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758452807678), 'pm10': 0.0, 'mq_raw': 575.0, 'gas': 576.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58584 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:54,309 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 54, 71334), 'temperature': np.float64(21.24482130878361), 'humidity': np.float64(48.020420193770136), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758472433991), 'pm10': 0.0, 'mq_raw': 573.0, 'gas': 575.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54805 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:54,957 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 54, 635578), 'temperature': np.float64(21.244821322837346), 'humidity': np.float64(48.02042020089926), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475320393), 'pm10': 0.0, 'mq_raw': 572.0, 'gas': 574.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58969 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:55,492 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 55, 242425), 'temperature': np.float64(21.24482132374959), 'humidity': np.float64(48.02042020107476), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475290565), 'pm10': 0.0, 'mq_raw': 570.0, 'gas': 573.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56402 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:55,996 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 55, 768785), 'temperature': np.float64(21.244821323695774), 'humidity': np.float64(48.020420201039386), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273405), 'pm10': 0.0, 'mq_raw': 567.0, 'gas': 571.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:05:55.765675
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50092 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:56,556 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 56, 328633), 'temperature': np.float64(21.244821323689102), 'humidity': np.float64(48.020420201037396), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273092), 'pm10': 0.0, 'mq_raw': 566.0, 'gas': 569.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53459 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:57,065 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 56, 841860), 'temperature': np.float64(21.244821323689216), 'humidity': np.float64(48.02042020103754), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273178), 'pm10': 0.0, 'mq_raw': 567.0, 'gas': 568.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50187 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:57,609 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 57, 390507), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 567.0, 'gas': 567.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65099 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:58,184 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 57, 965454), 'temperature': np.float64(21.244821323689266), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 567.0, 'gas': 566.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59120 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:58,736 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 58, 516876), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 566.0, 'gas': 566.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61281 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:59,294 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 59, 70569), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 564.0, 'gas': 566.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64210 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:35:59,930 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 5, 59, 624186), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 563.0, 'gas': 565.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56392 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:00,465 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 0, 204430), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 563.0, 'gas': 564.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51710 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:01,300 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 0, 809720), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 563.0, 'gas': 563.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53213 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:01,575 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 1, 315529), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 562.0, 'gas': 563.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59815 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:02,121 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 1, 865478), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 561.0, 'gas': 562.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65005 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:02,780 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 2, 448258), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 561.0, 'gas': 562.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63489 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:03,339 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 3, 59750), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 561.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50998 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:03,837 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 3, 561695), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 560.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50994 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:04,447 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 4, 190852), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 560.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53727 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:05,269 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 4, 717030), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 560.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51893 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:05,833 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 5, 285112), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 559.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62978 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:06,165 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 5, 909117), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 559.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52811 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:06,587 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 6, 371849), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 559.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56377 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:07,162 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 6, 909972), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 558.0, 'gas': 558.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55132 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:07,688 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 7, 449272), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 558.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63976 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:08,251 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 7, 998112), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 558.0, 'gas': 558.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64190 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:08,965 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 8, 583696), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 557.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53375 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:09,560 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 9, 234690), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 557.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59797 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:10,503 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 9, 678846), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 556.0, 'gas': 557.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51401 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:10,752 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 10, 519255), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 556.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52483 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:11,095 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 10, 868943), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 555.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55621 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:11,788 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 11, 524685), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 555.0, 'gas': 555.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61924 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:12,647 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 12, 60604), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 554.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55038 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:12,981 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 12, 713704), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 554.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63928 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:13,368 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 13, 121820), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 554.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59455 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:14,028 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 13, 770413), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54822 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:14,458 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 14, 184847), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 551.0, 'gas': 553.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57231 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:15,070 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 14, 741933), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 551.0, 'gas': 552.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64947 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:15,873 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 15, 459461), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 551.0, 'gas': 551.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58467 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:16,176 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 15, 890059), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 551.0, 'gas': 551.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49311 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:16,711 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 16, 446717), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 550.0, 'gas': 550.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63641 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:17,372 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 17, 81579), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.02042020103756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 549.0, 'gas': 550.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64692 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:17,822 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 17, 539145), 'temperature': np.float64(21.24482132368926), 'humidity': np.float64(48.02042020103755), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(10.934758475273185), 'pm10': 0.0, 'mq_raw': 548.0, 'gas': 549.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55501 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:18,415 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 18, 119899), 'temperature': np.float64(21.244821323689262), 'humidity': np.float64(48.34915876644486), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.023402629933607), 'pm10': 0.0, 'mq_raw': 542.0, 'gas': 548.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55145 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:19,067 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 18, 791504), 'temperature': np.float64(21.25327665685593), 'humidity': np.float64(48.50412860851307), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.059111713481379), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 546.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56701 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:19,504 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 19, 196184), 'temperature': np.float64(21.252666831418985), 'humidity': np.float64(48.57949047714385), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.076222893144447), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61294 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:20,194 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 19, 824159), 'temperature': np.float64(21.252178113457354), 'humidity': np.float64(48.658257194920395), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.095886805272372), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 545.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51177 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:20,904 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 20, 343306), 'temperature': np.float64(21.253012856769367), 'humidity': np.float64(48.737569765134985), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.115727641306243), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52980 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:21,189 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 20, 921629), 'temperature': np.float64(21.25388412157219), 'humidity': np.float64(48.73469378721478), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.11339797843457), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 546.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52985 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:21,765 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 21, 476743), 'temperature': np.float64(21.252635096475917), 'humidity': np.float64(48.816349114526446), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.135381336327193), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 546.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64577 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:22,448 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 22, 176508), 'temperature': np.float64(21.254708889656918), 'humidity': np.float64(48.81400063566209), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13323626552782), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 546.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49318 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:22,830 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 22, 559861), 'temperature': np.float64(21.253505453451645), 'humidity': np.float64(48.813472904327284), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13305165956875), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 546.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56174 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:23,423 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 23, 163300), 'temperature': np.float64(21.25345989544259), 'humidity': np.float64(48.813471347444846), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133058598777573), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64420 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:24,100 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 23, 840020), 'temperature': np.float64(21.253465419342348), 'humidity': np.float64(48.81347428766114), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059837687718), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54245 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:24,480 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 24, 215634), 'temperature': np.float64(21.25346583223648), 'humidity': np.float64(48.813474379122184), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059833280214), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55018 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:25,083 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 24, 791630), 'temperature': np.float64(21.25346581260998), 'humidity': np.float64(48.81347436506837), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826151062), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63023 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:25,719 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 25, 487448), 'temperature': np.float64(21.253465809723572), 'humidity': np.float64(48.81347436415612), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059825975558), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51117 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:26,227 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 26, 10978), 'temperature': np.float64(21.2534658097534), 'humidity': np.float64(48.81347436420994), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826010935), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:06:25.769034
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61630 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:26,711 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 26, 488746), 'temperature': np.float64(21.253465809770557), 'humidity': np.float64(48.81347436421662), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012925), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49686 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:27,372 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 27, 106541), 'temperature': np.float64(21.253465809770873), 'humidity': np.float64(48.813474364216496), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012776), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 544.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50061 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:27,903 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 27, 655202), 'temperature': np.float64(21.253465809770784), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 544.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63878 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:28,909 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 28, 228384), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 544.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53887 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:29,191 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 28, 927386), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 544.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53657 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:29,906 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 29, 344138), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 544.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51232 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:30,236 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 29, 939991), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 544.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52402 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:30,609 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 30, 328810), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 543.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60410 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:31,491 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 31, 146268), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 543.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55136 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:31,821 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 31, 508909), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 543.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55137 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:32,354 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 32, 95499), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 542.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57964 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:33,001 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 32, 722940), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 541.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51997 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:33,398 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 33, 123381), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 538.0, 'gas': 540.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63323 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:34,018 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 33, 695709), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(49.14221292962376), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.22170398067319), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 539.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56849 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:34,737 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 34, 395817), 'temperature': np.float64(21.261921142937453), 'humidity': np.float64(49.29718277169197), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.257413064220962), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 538.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52463 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:35,155 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 34, 854637), 'temperature': np.float64(21.261311317500503), 'humidity': np.float64(49.37254464032275), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.27452424388403), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 538.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58096 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:35,664 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 35, 417581), 'temperature': np.float64(21.260822599538884), 'humidity': np.float64(49.451311358099304), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.294188156011955), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 539.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56786 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:36,337 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 36, 66341), 'temperature': np.float64(21.26165734285089), 'humidity': np.float64(49.53062392831389), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.314028992045827), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 539.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58724 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:36,928 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 36, 665717), 'temperature': np.float64(21.262528607653714), 'humidity': np.float64(49.52774795039368), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.311699329174154), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 539.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52102 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:37,365 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 37, 70606), 'temperature': np.float64(21.261279582557435), 'humidity': np.float64(49.60940327770534), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33368268706677), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 539.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64706 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:38,264 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 37, 773233), 'temperature': np.float64(21.263353375738443), 'humidity': np.float64(49.60705479884099), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331537616267404), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 539.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52287 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:38,604 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 38, 283100), 'temperature': np.float64(21.262149939533167), 'humidity': np.float64(49.60652706750618), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331353010308334), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 539.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62467 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:38,996 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 38, 729157), 'temperature': np.float64(21.26210438152411), 'humidity': np.float64(49.606525510623754), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331359949517157), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 538.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60925 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:39,639 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 39, 373734), 'temperature': np.float64(21.262109905423866), 'humidity': np.float64(49.60652845084003), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361188427294), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 539.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50331 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:40,162 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 39, 903463), 'temperature': np.float64(21.262110318318), 'humidity': np.float64(49.60652854230109), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136118401979), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 538.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54755 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:40,980 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 40, 436558), 'temperature': np.float64(21.2621102986915), 'humidity': np.float64(49.60652852824727), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176890638), 'pm10': 0.0, 'mq_raw': 536.0, 'gas': 538.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59340 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:41,541 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 40, 999213), 'temperature': np.float64(21.262110295805087), 'humidity': np.float64(49.60652852733502), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176715141), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 537.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63641 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:41,808 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 41, 556960), 'temperature': np.float64(21.262110295834923), 'humidity': np.float64(49.606528527388846), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136117675052), 'pm10': 0.0, 'mq_raw': 536.0, 'gas': 537.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56451 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:43,098 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 42, 83672), 'temperature': np.float64(21.262110295852075), 'humidity': np.float64(49.60652852739551), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752502), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 536.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56473 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:43,687 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 43, 127260), 'temperature': np.float64(21.262110295852395), 'humidity': np.float64(49.6065285273954), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136117675236), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 535.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52260 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:44,566 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 43, 704313), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 533.0, 'gas': 535.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53592 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:44,844 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 44, 581788), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 535.0, 'gas': 534.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54215 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:45,139 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 44, 869828), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 534.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61203 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:45,556 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 45, 284662), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 535.0, 'gas': 534.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60079 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:46,053 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 45, 700665), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 534.0, 'gas': 534.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55349 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:46,388 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 46, 106567), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 534.0, 'gas': 535.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56216 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:46,886 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 46, 612195), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 534.0, 'gas': 534.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57759 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:47,528 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 47, 241322), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.93526709280266), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.420005331412774), 'pm10': 0.0, 'mq_raw': 534.0, 'gas': 534.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58375 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:47,947 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 47, 660582), 'temperature': np.float64(21.27056562901897), 'humidity': np.float64(50.090236934870866), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.45571441496054), 'pm10': 0.0, 'mq_raw': 533.0, 'gas': 533.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58746 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:48,470 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 48, 216247), 'temperature': np.float64(21.26995580358202), 'humidity': np.float64(50.16559880350165), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.472825594623615), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 533.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60923 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:49,996 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 48, 849389), 'temperature': np.float64(21.2694670856204), 'humidity': np.float64(50.2443655212782), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.492489506751532), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 533.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61212 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:50,281 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 50, 15263), 'temperature': np.float64(21.270301828932407), 'humidity': np.float64(50.32367809149278), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.512330342785404), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 532.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58393 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:50,608 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 50, 297800), 'temperature': np.float64(21.271173093735236), 'humidity': np.float64(50.320802113572576), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.51000067991373), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 532.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:51,395 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 50, 625570), 'temperature': np.float64(21.269924068638957), 'humidity': np.float64(50.40245744088424), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.531984037806353), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 531.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60662 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:51,725 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 51, 413851), 'temperature': np.float64(21.271997861819962), 'humidity': np.float64(50.400108962019885), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529838967006981), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49865 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:52,585 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 51, 741893), 'temperature': np.float64(21.270794425614685), 'humidity': np.float64(50.39958123068507), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52965436104791), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 531.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62866 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:52,894 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 52, 601685), 'temperature': np.float64(21.27074886760563), 'humidity': np.float64(50.39957967380265), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529661300256734), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 530.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60816 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:53,768 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 52, 992349), 'temperature': np.float64(21.270754391505392), 'humidity': np.float64(50.39958261401893), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662539166878), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 530.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:54,081 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 53, 785053), 'temperature': np.float64(21.270754804399523), 'humidity': np.float64(50.399582705479986), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662534759375), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49681 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:55,133 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 54, 95668), 'temperature': np.float64(21.270754784773025), 'humidity': np.float64(50.399582691426176), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527630222), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54634 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:55,462 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 55, 150193), 'temperature': np.float64(21.27075478188661), 'humidity': np.float64(50.399582690513924), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527454718), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63034 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:57,233 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 55, 600797), 'temperature': np.float64(21.270754781916445), 'humidity': np.float64(50.39958269056774), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527490096), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58788 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:58,394 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 57, 578961), 'temperature': np.float64(21.270754781933597), 'humidity': np.float64(50.39958269057441), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527492086), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:06:57.574064
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61102 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:58,778 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 58, 475642), 'temperature': np.float64(21.270754781933913), 'humidity': np.float64(50.3995826905743), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491936), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59096 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:59,125 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 58, 802826), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 535.0, 'gas': 531.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51280 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:36:59,645 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 59, 388573), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 531.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53735 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:00,865 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 6, 59, 831043), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62570 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:01,162 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 0, 886452), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 531.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53558 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:01,500 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 1, 223133), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 531.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58354 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:01,812 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 1, 551387), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51492 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:02,328 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 2, 72049), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 529.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53355 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:02,791 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 2, 530500), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 529.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59645 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:03,246 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 2, 961344), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57757 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:04,348 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 3, 477602), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51285 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:04,666 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 4, 364470), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58105 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:05,091 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 4, 806493), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55857 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:05,803 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 5, 272744), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57657 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:06,211 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 5, 874996), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51417 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:06,574 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 6, 224875), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59181 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:07,463 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 6, 592960), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63749 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:08,190 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 7, 481407), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62079 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:08,473 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 8, 208144), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62388 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:08,798 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 8, 509140), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64698 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:09,286 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 8, 987385), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51006 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:09,976 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 9, 439850), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50481 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:10,242 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 9, 995233), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63988 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:10,577 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 10, 322000), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54702 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:11,138 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 10, 658493), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62436 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:11,720 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 11, 152403), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63920 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:11,970 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 11, 729320), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52675 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:12,378 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 12, 127179), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 528.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52513 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:12,693 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 12, 456806), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 528.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59381 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:13,183 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 12, 937611), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51968 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:13,676 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 13, 417312), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 527.0, 'gas': 528.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54933 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:14,427 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 14, 17311), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.728321255981555), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.618306682152351), 'pm10': 0.0, 'mq_raw': 526.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:15,041 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 14, 444367), 'temperature': np.float64(21.27921011510049), 'humidity': np.float64(50.88329109804977), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.654015765700116), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62081 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:15,545 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 15, 55808), 'temperature': np.float64(21.27860028966354), 'humidity': np.float64(50.958652966680546), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.671126945363191), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 533.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55286 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:15,800 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 15, 559772), 'temperature': np.float64(21.278111571701928), 'humidity': np.float64(51.037419684457106), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.690790857491116), 'pm10': 0.0, 'mq_raw': 552.0, 'gas': 538.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61650 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:16,408 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 16, 177754), 'temperature': np.float64(21.278946315013926), 'humidity': np.float64(51.11673225467168), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.710631693524988), 'pm10': 0.0, 'mq_raw': 555.0, 'gas': 544.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49837 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:17,013 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 16, 775674), 'temperature': np.float64(21.279817579816758), 'humidity': np.float64(51.11385627675148), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.708302030653314), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 550.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55557 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:17,790 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 17, 317425), 'temperature': np.float64(21.278568554720472), 'humidity': np.float64(51.19551160406314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.730285388545937), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 553.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60078 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:18,325 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 17, 800632), 'temperature': np.float64(21.280642347901484), 'humidity': np.float64(51.193163125198794), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.728140317746565), 'pm10': 0.0, 'mq_raw': 558.0, 'gas': 555.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55978 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:18,573 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 18, 339663), 'temperature': np.float64(21.279438911696204), 'humidity': np.float64(51.19263539386397), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727955711787494), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 557.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61823 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:19,193 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 18, 927199), 'temperature': np.float64(21.279393353687155), 'humidity': np.float64(51.19263383698155), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727962650996318), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 558.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63738 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:19,893 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 19, 658442), 'temperature': np.float64(21.279398877586907), 'humidity': np.float64(51.19263677719783), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963889906462), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 558.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52518 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:20,272 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 20, 30144), 'temperature': np.float64(21.279399290481045), 'humidity': np.float64(51.192636868658894), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963885498959), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 559.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61857 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:20,902 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 20, 621993), 'temperature': np.float64(21.27939927085454), 'humidity': np.float64(51.19263685460507), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878369799), 'pm10': 0.0, 'mq_raw': 560.0, 'gas': 559.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60780 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:22,499 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 21, 416300), 'temperature': np.float64(21.27939926796813), 'humidity': np.float64(51.19263685369282), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878194295), 'pm10': 0.0, 'mq_raw': 558.0, 'gas': 559.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60781 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:22,800 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 22, 516585), 'temperature': np.float64(21.27939926799796), 'humidity': np.float64(51.19263685374664), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72796387822968), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 559.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62600 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:23,181 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 22, 893353), 'temperature': np.float64(21.27939926801512), 'humidity': np.float64(51.192636853753314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231662), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 559.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57464 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:23,625 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 23, 338633), 'temperature': np.float64(21.279399268015432), 'humidity': np.float64(51.19263685375319), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72796387823152), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 559.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:24,127 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 23, 847347), 'temperature': np.float64(21.279399268015347), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 558.0, 'gas': 558.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53095 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:24,623 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 24, 336683), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 559.0, 'gas': 558.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53807 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:25,112 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 24, 829996), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 558.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59647 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:25,637 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 25, 358761), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 558.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63378 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:25,995 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 25, 718767), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 557.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61599 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:26,648 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 26, 232648), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 556.0, 'gas': 557.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63995 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:27,117 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 26, 802786), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 556.0, 'gas': 556.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60193 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:27,805 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 27, 274856), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 556.0, 'gas': 556.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61731 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:28,097 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 27, 822535), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 556.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:07:27.809038
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61463 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:28,762 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 28, 475166), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 557.0, 'gas': 556.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62463 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:29,262 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 28, 974014), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 555.0, 'gas': 556.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51981 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:30,041 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 29, 745306), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 555.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59618 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:30,344 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 30, 58632), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 555.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54459 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:31,085 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 30, 794886), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 554.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:31,517 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 31, 247825), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 553.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54681 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:32,148 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 31, 870394), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 553.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50751 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:32,583 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 32, 297159), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55980 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:33,393 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 33, 108151), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61653 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:33,693 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 33, 408047), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57792 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:34,299 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 34, 35595), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 554.0, 'gas': 553.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60010 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:35,065 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 34, 765862), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59751 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:35,382 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 35, 83384), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 552.0, 'gas': 553.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63899 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:35,880 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 35, 612870), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 553.0, 'gas': 553.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51207 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:36,677 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 36, 431709), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 552.0, 'gas': 552.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55710 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:37,055 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 36, 827917), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 552.0, 'gas': 552.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52892 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:37,612 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 37, 370745), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 552.0, 'gas': 552.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58301 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:38,307 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 38, 31910), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 550.0, 'gas': 551.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50342 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:38,696 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 38, 452625), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 550.0, 'gas': 551.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52767 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:39,273 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 39, 41338), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 548.0, 'gas': 550.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50983 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:39,972 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 39, 727962), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 549.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55646 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:40,332 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 40, 97992), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 547.0, 'gas': 548.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54451 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:41,725 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 40, 661516), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 546.0, 'gas': 547.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60194 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:42,010 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 41, 741026), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 546.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58073 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:42,463 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 42, 188803), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 546.0, 'gas': 546.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63086 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:42,898 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 42, 630804), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 545.0, 'gas': 545.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65449 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:43,305 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 43, 71123), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 545.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62327 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:43,747 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 43, 500160), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 544.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62197 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:45,212 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 44, 160629), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 544.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63182 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:45,477 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 45, 228559), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 543.0, 'gas': 543.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60165 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:47,457 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 45, 560322), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 542.0, 'gas': 543.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56988 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:47,773 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 47, 470454), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 544.0, 'gas': 543.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56334 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:48,198 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 47, 923479), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 542.0, 'gas': 542.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55121 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:48,589 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 48, 357918), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 541.0, 'gas': 542.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64521 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:49,098 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 48, 785742), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 540.0, 'gas': 541.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61110 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:49,792 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 49, 261073), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 539.0, 'gas': 541.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59532 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:50,106 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 49, 803657), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 539.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56269 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:50,769 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 50, 137901), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 538.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57173 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:51,032 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 50, 786892), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(50.86389828834585), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.639319723571077), 'pm10': 0.0, 'mq_raw': 538.0, 'gas': 538.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55055 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:51,360 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 51, 132950), 'temperature': np.float64(21.270943934848667), 'humidity': np.float64(50.70892844627764), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.603610640023312), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 537.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50121 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:51,697 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 51, 470154), 'temperature': np.float64(21.27155376028562), 'humidity': np.float64(50.63356657764686), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.586499460360237), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 537.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55435 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:52,406 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 51, 906521), 'temperature': np.float64(21.272042478247243), 'humidity': np.float64(50.55479985987031), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.56683554823232), 'pm10': 0.0, 'mq_raw': 538.0, 'gas': 537.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59113 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:52,639 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 52, 418449), 'temperature': np.float64(21.271207734935235), 'humidity': np.float64(50.475487289655725), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.54699471219844), 'pm10': 0.0, 'mq_raw': 536.0, 'gas': 537.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49683 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:53,164 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 52, 881480), 'temperature': np.float64(21.270336470132406), 'humidity': np.float64(50.47836326757593), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.549324375070114), 'pm10': 0.0, 'mq_raw': 537.0, 'gas': 537.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63544 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:53,587 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 53, 312331), 'temperature': np.float64(21.271585495228685), 'humidity': np.float64(50.396707940264264), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527341017177491), 'pm10': 0.0, 'mq_raw': 536.0, 'gas': 536.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51442 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:53,886 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 53, 624987), 'temperature': np.float64(21.26951170204768), 'humidity': np.float64(50.39905641912863), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529486087976863), 'pm10': 0.0, 'mq_raw': 536.0, 'gas': 536.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57453 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:54,394 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 54, 124725), 'temperature': np.float64(21.27071513825296), 'humidity': np.float64(50.39958415046343), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529670693935934), 'pm10': 0.0, 'mq_raw': 535.0, 'gas': 536.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50111 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:55,344 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 54, 775313), 'temperature': np.float64(21.270760696262013), 'humidity': np.float64(50.399585707345864), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966375472711), 'pm10': 0.0, 'mq_raw': 534.0, 'gas': 535.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55139 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:56,242 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 55, 922528), 'temperature': np.float64(21.27075517236225), 'humidity': np.float64(50.39958276712958), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662515816966), 'pm10': 0.0, 'mq_raw': 533.0, 'gas': 534.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56596 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:56,580 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 56, 257522), 'temperature': np.float64(21.27075475946812), 'humidity': np.float64(50.399582675668526), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662520224477), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 534.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51088 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:57,125 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 56, 595254), 'temperature': np.float64(21.270754779094624), 'humidity': np.float64(50.39958268972234), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966252735363), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 533.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52085 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:57,452 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 57, 142614), 'temperature': np.float64(21.270754781981033), 'humidity': np.float64(50.39958269063459), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527529126), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 532.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56037 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:58,508 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 57, 468099), 'temperature': np.float64(21.270754781951197), 'humidity': np.float64(50.399582690580765), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527493748), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 531.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53096 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:37:59,784 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 58, 598144), 'temperature': np.float64(21.270754781934045), 'humidity': np.float64(50.3995826905741), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491766), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 530.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:07:58.594166
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56959 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:00,141 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 7, 59, 804374), 'temperature': np.float64(21.270754781933725), 'humidity': np.float64(50.399582690574206), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491908), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 530.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65228 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:00,462 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 0, 157301), 'temperature': np.float64(21.270754781933817), 'humidity': np.float64(50.399582690574256), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 532.0, 'gas': 531.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60172 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:01,062 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 0, 478773), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57146 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:01,362 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 1, 76879), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61460 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:01,661 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 1, 376286), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53034 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:02,366 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 2, 76640), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 531.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57382 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:02,762 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 2, 488292), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57988 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:03,570 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 3, 57230), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59393 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:04,207 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 3, 583146), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64026 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:04,527 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 4, 223943), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62823 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:04,957 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 4, 670001), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62255 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:05,656 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 5, 388488), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.07084412516695), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.441018372831493), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 529.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60312 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:06,060 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 5, 798089), 'temperature': np.float64(21.262299448767152), 'humidity': np.float64(49.915874283098745), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.405309289283728), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 529.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63202 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:06,660 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 6, 394938), 'temperature': np.float64(21.2629092742041), 'humidity': np.float64(49.840512414467966), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.38819810962066), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 529.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58405 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:07,655 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 7, 103566), 'temperature': np.float64(21.26339799216572), 'humidity': np.float64(49.761745696691406), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.368534197492735), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 529.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59530 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:07,916 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 7, 665119), 'temperature': np.float64(21.262563248853716), 'humidity': np.float64(49.68243312647682), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.348693361458857), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 530.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53949 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:08,357 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 7, 995998), 'temperature': np.float64(21.261691984050888), 'humidity': np.float64(49.685309104397035), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.351023024330537), 'pm10': 0.0, 'mq_raw': 531.0, 'gas': 530.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65534 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:09,306 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 8, 793370), 'temperature': np.float64(21.262941009147166), 'humidity': np.float64(49.60365377708537), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.329039666437914), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53007 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:09,859 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 9, 324145), 'temperature': np.float64(21.260867215966158), 'humidity': np.float64(49.60600225594972), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33118473723728), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58765 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:10,148 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 9, 871715), 'temperature': np.float64(21.26207065217143), 'humidity': np.float64(49.60652998728453), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331369343196357), 'pm10': 0.0, 'mq_raw': 530.0, 'gas': 530.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49683 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:10,552 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 10, 294984), 'temperature': np.float64(21.262116210180487), 'humidity': np.float64(49.606531544166955), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331362403987526), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 529.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61383 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:11,262 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 10, 976417), 'temperature': np.float64(21.262110686280735), 'humidity': np.float64(49.60652860395068), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136116507739), 'pm10': 0.0, 'mq_raw': 529.0, 'gas': 529.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54277 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:12,761 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 11, 437679), 'temperature': np.float64(21.262110273386597), 'humidity': np.float64(49.60652851248962), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361169484893), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 529.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53063 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:13,072 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 12, 775411), 'temperature': np.float64(21.2621102930131), 'humidity': np.float64(49.60652852654344), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176614053), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60665 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:13,344 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 13, 85446), 'temperature': np.float64(21.26211029589951), 'humidity': np.float64(49.60652852745569), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136117678955), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63784 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:13,933 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 13, 508280), 'temperature': np.float64(21.262110295869682), 'humidity': np.float64(49.60652852740187), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176754172), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49256 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:14,522 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 14, 7345), 'temperature': np.float64(21.262110295852523), 'humidity': np.float64(49.6065285273952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752182), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56743 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:14,827 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 14, 532777), 'temperature': np.float64(21.26211029585221), 'humidity': np.float64(49.60652852739531), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752331), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:15,143 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 14, 839268), 'temperature': np.float64(21.262110295852295), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54663 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:15,864 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 15, 594071), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62634 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:16,921 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 16, 222318), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55649 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:17,201 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 16, 935195), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56518 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:17,537 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 17, 268978), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58513 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:17,873 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 17, 599573), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62301 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:18,336 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 18, 55411), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56085 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:18,912 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 18, 639853), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59907 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:19,743 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 19, 392175), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54974 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:20,318 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 19, 760507), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57566 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:20,634 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 20, 332813), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58076 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:21,124 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 20, 846048), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53801 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:21,888 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 21, 576669), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64303 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:22,546 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 22, 20028), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56229 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:22,851 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 22, 561467), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 528.0, 'gas': 528.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49683 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:23,538 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 23, 261799), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 527.0, 'gas': 527.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58485 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:23,954 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 23, 664384), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 526.0, 'gas': 527.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58510 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:24,532 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 24, 237066), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 526.0, 'gas': 527.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59872 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:25,224 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 24, 948585), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 525.0, 'gas': 526.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62786 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:25,627 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 25, 360885), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 524.0, 'gas': 525.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54093 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:26,461 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 25, 917362), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 524.0, 'gas': 525.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54398 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:26,851 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 26, 479157), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 519.0, 'gas': 523.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51752 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:27,333 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 27, 67015), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 516.0, 'gas': 521.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63069 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:28,018 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 27, 738826), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 514.0, 'gas': 519.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62785 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:28,451 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 28, 142225), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 513.0, 'gas': 517.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63619 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:29,285 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 28, 757127), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 512.0, 'gas': 514.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:08:28.595662
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61892 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:29,573 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 29, 301214), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 512.0, 'gas': 513.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54309 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:30,138 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 29, 875398), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.277789961988056), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.242717022091917), 'pm10': 0.0, 'mq_raw': 516.0, 'gas': 513.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57208 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:30,798 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 30, 509730), 'temperature': np.float64(21.25365496268563), 'humidity': np.float64(49.122820119919844), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.207007938544152), 'pm10': 0.0, 'mq_raw': 514.0, 'gas': 513.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50354 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:31,332 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 30, 930148), 'temperature': np.float64(21.25426478812258), 'humidity': np.float64(49.04745825128906), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.189896758881076), 'pm10': 0.0, 'mq_raw': 516.0, 'gas': 514.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55764 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:31,765 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 31, 453561), 'temperature': np.float64(21.2547535060842), 'humidity': np.float64(48.96869153351251), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.170232846753152), 'pm10': 0.0, 'mq_raw': 518.0, 'gas': 515.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49893 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:32,513 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 32, 231696), 'temperature': np.float64(21.253918762772194), 'humidity': np.float64(48.88937896329793), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.15039201071928), 'pm10': 0.0, 'mq_raw': 516.0, 'gas': 516.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49735 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:32,953 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 32, 652873), 'temperature': np.float64(21.253047497969366), 'humidity': np.float64(48.892254941218134), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.152721673590953), 'pm10': 0.0, 'mq_raw': 519.0, 'gas': 516.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62256 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:33,401 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 33, 89345), 'temperature': np.float64(21.254296523065644), 'humidity': np.float64(48.810599613906476), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13073831569833), 'pm10': 0.0, 'mq_raw': 516.0, 'gas': 517.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51457 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:34,129 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 33, 863277), 'temperature': np.float64(21.252222729884636), 'humidity': np.float64(48.812948092770824), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.132883386497703), 'pm10': 0.0, 'mq_raw': 514.0, 'gas': 516.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57966 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:34,556 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 34, 274157), 'temperature': np.float64(21.253426166089916), 'humidity': np.float64(48.81347582410563), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133067992456773), 'pm10': 0.0, 'mq_raw': 513.0, 'gas': 515.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50555 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:35,140 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 34, 857211), 'temperature': np.float64(21.25347172409897), 'humidity': np.float64(48.81347738098806), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13306105324795), 'pm10': 0.0, 'mq_raw': 512.0, 'gas': 514.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61048 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:35,834 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 35, 573157), 'temperature': np.float64(21.253466200199213), 'humidity': np.float64(48.81347444077178), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059814337805), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 513.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51028 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:36,271 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 35, 975269), 'temperature': np.float64(21.25346578730508), 'humidity': np.float64(48.813474349310724), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059818745316), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 512.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52880 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:36,901 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 36, 617459), 'temperature': np.float64(21.25346580693158), 'humidity': np.float64(48.81347436336454), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059825874469), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53498 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:37,326 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 37, 61681), 'temperature': np.float64(21.25346580981799), 'humidity': np.float64(48.813474364276786), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826049966), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59477 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:38,078 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 37, 794872), 'temperature': np.float64(21.25346580978816), 'humidity': np.float64(48.81347436422297), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826014595), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58332 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:38,486 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 38, 221518), 'temperature': np.float64(21.253465809771), 'humidity': np.float64(48.8134743642163), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012605), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52868 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:39,056 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 38, 800523), 'temperature': np.float64(21.253465809770688), 'humidity': np.float64(48.81347436421642), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012747), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55019 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:39,814 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 39, 537659), 'temperature': np.float64(21.253465809770777), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50811 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:40,123 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 39, 832236), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58748 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:40,814 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 40, 558495), 'temperature': np.float64(21.25346580977078), 'humidity': np.float64(48.81347436421646), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.133059826012762), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57871 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:41,724 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 40, 985102), 'temperature': np.float64(21.08909652706713), 'humidity': np.float64(48.76915228688624), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.128832159429429), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52260 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:42,240 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 41, 741241), 'temperature': np.float64(21.01161160603302), 'humidity': np.float64(48.75129774511235), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129137072147898), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58767 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:42,720 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 42, 256195), 'temperature': np.float64(21.015022992393547), 'humidity': np.float64(48.753822674613374), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13043834777455), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51362 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:43,244 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 42, 739416), 'temperature': np.float64(21.015557024101753), 'humidity': np.float64(48.75399461365916), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.13047320626184), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49921 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:44,043 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 43, 259120), 'temperature': np.float64(20.933368106688704), 'humidity': np.float64(48.73182413182302), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.128352995056666), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52731 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:44,597 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 44, 56238), 'temperature': np.float64(20.935714827025976), 'humidity': np.float64(48.73397614258829), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129561991657823), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54924 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:45,457 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 44, 615170), 'temperature': np.float64(20.93624552603586), 'humidity': np.float64(48.734162001716385), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.12960796844986), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54017 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:45,736 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 45, 470189), 'temperature': np.float64(20.93624717629146), 'humidity': np.float64(48.734155058496626), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602424882783), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58962 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:46,038 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 45, 760963), 'temperature': np.float64(20.93624422191985), 'humidity': np.float64(48.73415381238786), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602009067796), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56396 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:46,342 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 46, 89342), 'temperature': np.float64(20.93624412953288), 'humidity': np.float64(48.73415381661567), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.12960202872339), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62473 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:46,764 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 46, 504312), 'temperature': np.float64(20.93624414364071), 'humidity': np.float64(48.734153823780474), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031627137), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56864 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:47,347 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 47, 76972), 'temperature': np.float64(20.936244144559712), 'humidity': np.float64(48.73415382395799), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031597628), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55199 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:48,265 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 47, 741607), 'temperature': np.float64(20.93624414450578), 'humidity': np.float64(48.73415382392247), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580383), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49685 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:48,530 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 48, 279708), 'temperature': np.float64(20.936244144499064), 'humidity': np.float64(48.734153823920465), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580063), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64368 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:50,033 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 48, 957753), 'temperature': np.float64(20.93624414449918), 'humidity': np.float64(48.73415382392061), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580148), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56884 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:50,340 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 50, 48835), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60904 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:51,197 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 50, 406799), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59107 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:51,464 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 51, 208698), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52890 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:52,381 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 51, 606589), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62219 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:52,925 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 52, 395580), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51526 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:53,165 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 52, 937984), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62026 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:53,465 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 53, 238846), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55853 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:54,146 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 53, 656419), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60371 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:54,455 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 54, 209307), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54440 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:55,573 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 54, 568973), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55705 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:56,091 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 55, 586067), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63819 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:56,362 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 56, 106673), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59596 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:56,767 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 56, 504659), 'temperature': np.float64(20.93624414449922), 'humidity': np.float64(48.73415382392062), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129602031580156), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50200 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:57,176 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 56, 950238), 'temperature': np.float64(20.936244144499224), 'humidity': np.float64(49.06289238932793), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.218246186240577), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50288 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:57,475 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 57, 225652), 'temperature': np.float64(20.944699477665893), 'humidity': np.float64(49.21786223139614), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.25395526978835), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51548 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:57,938 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 57, 696520), 'temperature': np.float64(20.944089652228943), 'humidity': np.float64(49.29322410002692), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.271066449451425), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53545 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:58,620 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 58, 403185), 'temperature': np.float64(20.94360093426732), 'humidity': np.float64(49.371990817803464), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.290730361579342), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62478 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:59,192 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 58, 960816), 'temperature': np.float64(20.944435677579328), 'humidity': np.float64(49.45130338801805), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.310571197613214), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:08:58.705305
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58172 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:38:59,547 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 59, 328246), 'temperature': np.float64(20.945306942382153), 'humidity': np.float64(49.44842741009784), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.30824153474154), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63249 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:00,324 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 8, 59, 988281), 'temperature': np.float64(20.94405791728588), 'humidity': np.float64(49.530082737409515), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.330224892634163), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56619 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:01,125 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 0, 494810), 'temperature': np.float64(20.946131710466886), 'humidity': np.float64(49.52773425854516), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328079821834791), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63196 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:01,634 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 1, 141144), 'temperature': np.float64(20.944928274261606), 'humidity': np.float64(49.52720652721035), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327895215875728), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52930 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:01,865 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 1, 643869), 'temperature': np.float64(20.94488271625255), 'humidity': np.float64(49.527204970327915), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327902155084551), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55737 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:03,050 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 2, 147436), 'temperature': np.float64(20.94488824015231), 'humidity': np.float64(49.527207910544206), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903393994688), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58022 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:03,987 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 3, 111239), 'temperature': np.float64(20.944888653046448), 'humidity': np.float64(49.52720800200525), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903389587185), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50061 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:04,262 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 4, 778), 'temperature': np.float64(20.944888633419943), 'humidity': np.float64(49.52720798795144), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382458032), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53756 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:04,529 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 4, 277937), 'temperature': np.float64(20.94488863053353), 'humidity': np.float64(49.52720798703919), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382282528), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 511.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50428 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:04,897 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 4, 670428), 'temperature': np.float64(20.944888630563362), 'humidity': np.float64(49.52720798709301), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382317906), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62857 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:05,349 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 5, 81290), 'temperature': np.float64(20.944888630580515), 'humidity': np.float64(49.52720798709968), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319896), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64582 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:05,687 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 5, 468315), 'temperature': np.float64(20.944888630580834), 'humidity': np.float64(49.855946552506865), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.416547536980175), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57450 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:06,274 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 6, 36844), 'temperature': np.float64(20.95334396374742), 'humidity': np.float64(50.010916394575034), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.452256620527933), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56287 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:06,766 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 6, 562012), 'temperature': np.float64(20.952734138310465), 'humidity': np.float64(50.08627826320581), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.469367800191002), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62744 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:07,393 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 7, 111218), 'temperature': np.float64(20.95224542034884), 'humidity': np.float64(50.165044980982366), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.489031712318926), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63299 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:08,154 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 7, 691280), 'temperature': np.float64(20.95308016366085), 'humidity': np.float64(50.49091147525243), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.575355664348116), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60458 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:08,573 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 8, 303030), 'temperature': np.float64(20.96029292833868), 'humidity': np.float64(50.72753984091112), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.633049372134927), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49219 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:09,217 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 8, 993479), 'temperature': np.float64(20.96175728410219), 'humidity': np.float64(50.88273793979553), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.670176501772715), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52900 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:10,282 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 9, 484025), 'temperature': np.float64(20.962178937627293), 'humidity': np.float64(50.95862704991059), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.687502551832608), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51664 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:10,542 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 10, 297089), 'temperature': np.float64(20.961758747011487), 'humidity': np.float64(51.03740729930422), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.707164486433328), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63745 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:11,369 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 10, 611934), 'temperature': np.float64(20.962589584466123), 'humidity': np.float64(51.03453262736448), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.70484301325287), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53939 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:11,655 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 11, 381867), 'temperature': np.float64(20.96134651869397), 'humidity': np.float64(51.03400635997446), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.704666574289696), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59499 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:11,898 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 11, 665809), 'temperature': np.float64(20.96130687470784), 'humidity': np.float64(51.11619246088635), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.726835779204357), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52858 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:13,130 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 12, 378340), 'temperature': np.float64(20.963426622239314), 'humidity': np.float64(51.11384561746691), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724683757985346), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64054 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:13,396 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 13, 143824), 'temperature': np.float64(20.962217639661915), 'humidity': np.float64(51.11331493092236), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724497905783544), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49395 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:13,690 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 13, 465332), 'temperature': np.float64(20.962171665885908), 'humidity': np.float64(51.11331328171315), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72450484925713), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54719 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:14,102 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 13, 883835), 'temperature': np.float64(20.96217720945847), 'humidity': np.float64(51.11331623604369), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724506095333872), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64390 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:14,941 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 14, 599336), 'temperature': np.float64(20.96217762525656), 'humidity': np.float64(51.11331632842359), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724506091103727), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60935 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:15,486 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 14, 951790), 'temperature': np.float64(20.96217760560046), 'humidity': np.float64(51.11331631431579), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724506083939033), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62300 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:15,719 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 15, 501185), 'temperature': np.float64(20.962177602696798), 'humidity': np.float64(51.11331631339684), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724506083761533), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58969 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:16,384 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 16, 152382), 'temperature': np.float64(20.96217760272631), 'humidity': np.float64(51.11331631345077), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.724506083797053), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62693 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:16,941 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 16, 691300), 'temperature': np.float64(21.126546885447212), 'humidity': np.float64(51.157638390787696), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.728733750382396), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57415 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:17,475 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 17, 226444), 'temperature': np.float64(21.20403180648163), 'humidity': np.float64(51.175492932561454), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72842883766377), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50330 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:18,105 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 17, 898251), 'temperature': np.float64(21.20062042012102), 'humidity': np.float64(51.172968003060404), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727127562037111), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57615 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:18,651 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 18, 422203), 'temperature': np.float64(21.20008638841281), 'humidity': np.float64(51.17279606401461), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727092703549815), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50288 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:19,170 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 18, 919421), 'temperature': np.float64(21.282275305825863), 'humidity': np.float64(50.86622798044346), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.640568760094567), 'pm10': 0.0, 'mq_raw': 511.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55523 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:19,848 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 19, 614838), 'temperature': np.float64(21.27147325232191), 'humidity': np.float64(50.70910612760998), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.603650679945645), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54371 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:20,213 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 19, 975924), 'temperature': np.float64(21.27155237874898), 'humidity': np.float64(50.633558399851104), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.586493523490532), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55592 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:20,796 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 20, 515709), 'temperature': np.float64(21.272039446455004), 'humidity': np.float64(50.55479862529431), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.566835154929684), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51784 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:21,477 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 21, 191416), 'temperature': np.float64(21.2712076575146), 'humidity': np.float64(50.475487301188494), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.5469947347108), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62733 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:22,847 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 21, 819863), 'temperature': np.float64(21.270336485098746), 'humidity': np.float64(50.47836327488089), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.54932437792688), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63220 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:23,112 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 22, 864600), 'temperature': np.float64(21.271585496087198), 'humidity': np.float64(50.396707940404426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52734101713051), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54796 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:23,439 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 23, 164699), 'temperature': np.float64(21.269511701987188), 'humidity': np.float64(50.39905641909125), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529486087959391), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59884 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:23,783 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 23, 541292), 'temperature': np.float64(21.270715138246402), 'humidity': np.float64(50.39958415046159), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529670693935714), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56697 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:24,207 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 23, 955853), 'temperature': np.float64(21.270760696262165), 'humidity': np.float64(50.39958570734602), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529663754727203), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61877 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:24,776 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 24, 541820), 'temperature': np.float64(21.2707551723623), 'humidity': np.float64(50.399582767129594), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662515816973), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62449 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:25,360 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 25, 132178), 'temperature': np.float64(21.27075475946812), 'humidity': np.float64(50.39958267566852), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662520224477), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 508.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58200 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:27,010 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 25, 696867), 'temperature': np.float64(21.270754779094624), 'humidity': np.float64(50.39958268972234), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966252735363), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62275 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:27,534 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 27, 25549), 'temperature': np.float64(21.270754781981033), 'humidity': np.float64(50.39958269063459), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527529126), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64217 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:27,833 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 27, 545959), 'temperature': np.float64(21.270754781951204), 'humidity': np.float64(50.39958269058077), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527493755), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64588 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:28,143 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 27, 877293), 'temperature': np.float64(21.270754781934038), 'humidity': np.float64(50.39958269057409), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491766), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52967 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:28,849 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 28, 362375), 'temperature': np.float64(21.270754781933732), 'humidity': np.float64(50.72832125598151), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.618306682152337), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51092 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:29,445 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 28, 866554), 'temperature': np.float64(21.27921011510049), 'humidity': np.float64(50.88329109804977), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.654015765700116), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:09:28.853905
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50705 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:29,977 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 29, 706014), 'temperature': np.float64(21.278600289663544), 'humidity': np.float64(50.958652966680546), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.671126945363191), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 507.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53141 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:30,333 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 30, 38451), 'temperature': np.float64(21.27811157170192), 'humidity': np.float64(51.0374196844571), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.690790857491116), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52153 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:30,688 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 30, 408593), 'temperature': np.float64(21.27894631501393), 'humidity': np.float64(51.11673225467168), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.710631693524988), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62014 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:31,482 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 30, 917022), 'temperature': np.float64(21.279817579816758), 'humidity': np.float64(51.11385627675148), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.708302030653314), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62269 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:31,891 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 31, 570471), 'temperature': np.float64(21.278568554720472), 'humidity': np.float64(51.19551160406314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.730285388545937), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57510 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:32,530 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 31, 934632), 'temperature': np.float64(21.280642347901484), 'humidity': np.float64(51.19316312519879), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.728140317746565), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61582 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:32,839 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 32, 545674), 'temperature': np.float64(21.279438911696204), 'humidity': np.float64(51.19263539386398), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727955711787494), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 507.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52650 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:33,299 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 33, 12955), 'temperature': np.float64(21.27939335368715), 'humidity': np.float64(51.19263383698155), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727962650996318), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60096 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:33,781 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 33, 500301), 'temperature': np.float64(21.279398877586907), 'humidity': np.float64(51.19263677719783), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963889906462), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59620 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:34,563 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 33, 915361), 'temperature': np.float64(21.279399290481045), 'humidity': np.float64(51.19263686865889), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963885498951), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 506.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54531 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:34,858 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 34, 580898), 'temperature': np.float64(21.27939927085454), 'humidity': np.float64(51.19263685460507), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878369799), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 507.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52209 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:35,330 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 35, 44276), 'temperature': np.float64(21.27939926796813), 'humidity': np.float64(51.19263685369282), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878194302), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 507.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49226 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:36,059 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 35, 794628), 'temperature': np.float64(21.27939926799796), 'humidity': np.float64(51.19263685374664), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878229673), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63451 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:36,480 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 36, 211214), 'temperature': np.float64(21.27939926801512), 'humidity': np.float64(51.192636853753314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231662), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53903 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:37,671 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 36, 874182), 'temperature': np.float64(21.279399268015435), 'humidity': np.float64(51.1926368537532), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72796387823152), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50783 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:37,971 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 37, 687312), 'temperature': np.float64(21.279399268015347), 'humidity': np.float64(51.19263685375315), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231499), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62719 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:38,560 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 38, 231397), 'temperature': np.float64(21.279399268015343), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52981 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:39,126 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 38, 748831), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50530 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:39,483 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 39, 194962), 'temperature': np.float64(21.279399268015343), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65258 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:39,979 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 39, 715960), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58652 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:40,406 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 40, 100587), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54829 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:41,052 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 40, 668974), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63567 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:41,504 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 41, 219209), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:42,123 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 41, 893573), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49765 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:42,626 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 42, 419912), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54391 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:43,434 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 43, 77443), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55770 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:43,649 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 43, 448324), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60670 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:44,303 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 44, 89352), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 510.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60379 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:45,347 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 44, 737561), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57008 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:45,591 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 45, 363276), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64781 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:45,910 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 45, 695331), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63896 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:46,688 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 46, 438219), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61485 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:47,056 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 46, 799323), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:47,637 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 47, 381025), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62771 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:48,312 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 48, 78942), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64570 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:48,701 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 48, 454542), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61862 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:49,315 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 49, 25466), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59488 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:50,020 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 49, 748775), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60419 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:50,407 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 50, 160749), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58158 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:50,926 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 50, 725785), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56281 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:51,564 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 51, 350793), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60143 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:52,156 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 51, 862888), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60366 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:52,785 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 52, 488672), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60819 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:53,198 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 52, 930104), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61419 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:53,993 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 53, 600253), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60818 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:54,252 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 54, 8120), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65329 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:54,787 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 54, 567093), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50633 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:55,349 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 55, 140888), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55786 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:55,924 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 55, 695850), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58230 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:56,497 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 56, 260893), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58467 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:57,403 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 56, 884648), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61817 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:57,992 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 57, 411983), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50531 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:58,305 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 58, 7394), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57301 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:58,844 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 58, 489734), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52722 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:59,512 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 59, 264325), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:09:59.262173
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55861 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:39:59,823 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 9, 59, 621513), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 508.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50913 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:00,348 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 0, 129615), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52339 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:00,972 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 0, 769307), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61027 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:01,476 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 1, 265362), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62730 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:02,041 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 1, 815043), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 508.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65278 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:02,710 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 2, 494758), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 508.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62309 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:03,379 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 3, 76313), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64499 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:03,922 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 3, 658214), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56379 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:04,310 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 4, 74987), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 510.0, 'gas': 509.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53024 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:04,974 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 4, 756171), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64676 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:05,506 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 5, 293892), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62871 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:06,022 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 5, 784567), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 509.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53241 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:07,021 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 6, 443308), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63928 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:07,845 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 7, 36553), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 507.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57485 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:08,086 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 7, 858136), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59797 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:08,442 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 8, 178148), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59329 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:08,898 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 8, 663692), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 506.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57855 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:09,320 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 9, 74104), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54713 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:09,923 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 9, 658622), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61264 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:10,533 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 10, 272327), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 506.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49919 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:11,082 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 10, 841661), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 507.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56012 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:11,737 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 11, 486214), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56136 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:12,710 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 11, 868669), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60188 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:12,937 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 12, 721263), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 507.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59936 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:13,304 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 13, 49809), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 507.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51480 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:13,818 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 13, 605593), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 506.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59816 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:14,570 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 14, 332992), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 506.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58309 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:14,954 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 14, 706127), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50234 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:15,518 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 15, 288158), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 506.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56546 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:16,221 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 15, 958061), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:16,579 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 16, 344668), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 504.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64863 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:17,119 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 16, 884250), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 504.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52709 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:17,750 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 17, 497690), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 504.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56630 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:18,258 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 18, 10926), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 508.0, 'gas': 505.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52151 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:18,808 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 18, 574599), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60401 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:19,877 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 19, 396637), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 506.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51583 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:20,098 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 19, 891655), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 506.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61675 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:20,615 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 20, 296377), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 505.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53810 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:21,004 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 20, 780751), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53626 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:21,689 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 21, 482563), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63875 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:22,209 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 22, 3259), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 504.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57915 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:22,769 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 22, 557632), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 504.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62467 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:23,467 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 23, 221955), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 504.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59589 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:24,174 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 23, 631141), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 504.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63349 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:24,405 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 24, 185766), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 504.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52663 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:25,140 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 24, 907484), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 507.0, 'gas': 504.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61324 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:25,519 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 25, 268793), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63393 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:26,024 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 25, 817469), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49372 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:26,753 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 26, 490315), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50393 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:27,310 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 27, 43770), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63645 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:28,148 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 27, 616684), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54428 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:28,431 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 28, 161711), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 505.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56415 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:29,146 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 28, 619667), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52709 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:29,407 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 29, 171928), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63427 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:29,892 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 29, 688008), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:10:29.409729
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53777 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:30,496 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 30, 269649), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 505.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60008 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:31,090 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 30, 837575), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 504.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62885 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:31,640 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 31, 399081), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 504.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62258 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:32,386 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 32, 127934), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 504.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62664 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:33,009 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 32, 525766), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 503.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56687 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:33,298 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 33, 67900), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 503.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57379 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:34,110 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 33, 769322), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 504.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52817 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:34,468 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 34, 230696), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 515.0, 'gas': 506.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56230 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:35,004 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 34, 766018), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 509.0, 'gas': 507.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56118 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:35,734 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 35, 485297), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 508.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56832 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:36,183 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 35, 932874), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 506.0, 'gas': 508.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56992 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:36,724 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 36, 489753), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 508.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49688 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:37,592 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 37, 320855), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 505.0, 'gas': 506.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60918 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:37,915 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 37, 609828), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 504.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57583 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:38,770 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 38, 230185), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 503.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64266 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:39,561 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 38, 787058), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 503.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55885 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:39,841 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 39, 578877), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 503.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59219 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:40,163 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 39, 895922), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 502.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58617 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:40,681 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 40, 388914), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 504.0, 'gas': 502.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65109 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:41,181 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 40, 911628), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 502.0, 'gas': 503.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59352 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:41,987 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 41, 710764), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 503.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61646 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:42,319 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 42, 1568), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 503.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55778 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:42,984 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 42, 701547), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 502.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53322 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:43,731 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 43, 187750), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 502.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51674 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:44,028 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 43, 742945), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 502.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55649 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:44,572 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 44, 289866), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 502.0, 'gas': 502.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55467 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:45,078 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 44, 805691), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 502.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60157 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:45,977 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 45, 576031), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 502.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53586 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:46,795 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 45, 992867), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 502.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51325 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:47,348 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 46, 813786), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 502.0, 'gas': 501.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58898 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:48,027 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 47, 482729), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 501.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56104 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:48,596 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 48, 77146), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 500.0, 'gas': 501.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58411 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:48,905 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 48, 619359), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 501.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51248 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:49,406 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 49, 119750), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 501.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63154 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:49,961 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 49, 693458), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 501.0, 'gas': 500.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60720 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:50,331 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 50, 21968), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 500.0, 'gas': 500.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58860 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:50,788 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 50, 511407), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 499.0, 'gas': 500.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55114 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:51,705 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 51, 25854), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 500.0, 'gas': 500.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54746 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:51,997 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 51, 719462), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 500.0, 'gas': 500.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62959 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:52,383 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 52, 64897), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 499.0, 'gas': 499.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61694 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:53,536 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 53, 268761), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 503.0, 'gas': 500.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\U0001f534 CRITICAL SAFETY RISK: Immediate Action Required. | \u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60528 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:53,827 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 53, 552499), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 500.0, 'gas': 500.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49690 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:54,220 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 53, 912093), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 499.0, 'gas': 500.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65102 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:54,617 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 54, 331809), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 498.0, 'gas': 499.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56936 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:55,177 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 54, 857920), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 497.0, 'gas': 499.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49301 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:56,291 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 55, 540924), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 497.0, 'gas': 498.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54064 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:56,606 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 56, 310334), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 497.0, 'gas': 497.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60910 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:57,058 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 56, 727341), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 497.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50989 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:57,463 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 57, 163238), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 496.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60212 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:58,578 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 57, 757928), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 496.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64278 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:58,930 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 58, 604561), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 496.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51160 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:40:59,389 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 59, 58050), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 495.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56834 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:00,021 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 10, 59, 502539), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(50.86389828834585), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.639319723571077), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 495.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:10:59.473278
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64792 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:00,504 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 0, 204918), 'temperature': np.float64(21.270943934848667), 'humidity': np.float64(50.70892844627764), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.603610640023312), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 495.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65479 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:00,997 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 0, 688055), 'temperature': np.float64(21.27155376028562), 'humidity': np.float64(50.63356657764686), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.586499460360237), 'pm10': 0.0, 'mq_raw': 496.0, 'gas': 495.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60636 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:01,467 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 1, 172457), 'temperature': np.float64(21.27204247824724), 'humidity': np.float64(50.55479985987031), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.56683554823232), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 495.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58949 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:02,019 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 1, 732692), 'temperature': np.float64(21.27120773493524), 'humidity': np.float64(50.47548728965573), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.54699471219844), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 495.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51779 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:02,351 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 2, 75250), 'temperature': np.float64(21.270336470132406), 'humidity': np.float64(50.47836326757593), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.549324375070114), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 495.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56234 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:02,930 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 2, 651611), 'temperature': np.float64(21.271585495228685), 'humidity': np.float64(50.396707940264264), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527341017177491), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 494.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59361 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:03,584 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 3, 289495), 'temperature': np.float64(21.26951170204768), 'humidity': np.float64(50.39905641912862), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529486087976863), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 494.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60284 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:04,687 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 3, 771688), 'temperature': np.float64(21.27071513825296), 'humidity': np.float64(50.39958415046343), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529670693935934), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63284 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:05,493 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 4, 704567), 'temperature': np.float64(21.27076069626201), 'humidity': np.float64(50.399585707345864), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966375472711), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62201 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:05,806 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 5, 510877), 'temperature': np.float64(21.270755172362254), 'humidity': np.float64(50.39958276712957), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662515816966), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57099 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:06,159 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 5, 860526), 'temperature': np.float64(21.27075475946812), 'humidity': np.float64(50.39958267566852), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662520224477), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58448 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:06,716 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 6, 402157), 'temperature': np.float64(21.270754779094624), 'humidity': np.float64(50.07084412431504), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.441018372693208), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 493.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52689 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:07,484 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 6, 886960), 'temperature': np.float64(21.26229944881436), 'humidity': np.float64(49.91587428315907), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.405309289320932), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 493.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58027 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:07,862 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 7, 543642), 'temperature': np.float64(21.262909274221485), 'humidity': np.float64(49.840512414474475), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.388198109622486), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 493.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58760 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:08,272 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 7, 981675), 'temperature': np.float64(21.26339799216594), 'humidity': np.float64(49.76174569669125), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.368534197492572), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 493.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54304 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:08,684 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 8, 382994), 'temperature': np.float64(21.262563248853624), 'humidity': np.float64(49.68243312647679), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.34869336145885), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 492.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57108 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:09,360 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 9, 39723), 'temperature': np.float64(21.261691984050884), 'humidity': np.float64(49.685309104397035), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.351023024330537), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 492.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56932 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:09,931 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 9, 631184), 'temperature': np.float64(21.262941009147166), 'humidity': np.float64(49.60365377708537), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.329039666437914), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 492.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53729 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:10,452 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 10, 163879), 'temperature': np.float64(21.260867215966158), 'humidity': np.float64(49.60600225594972), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33118473723728), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 493.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51408 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:10,956 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 10, 673238), 'temperature': np.float64(21.26207065217143), 'humidity': np.float64(49.60652998728453), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331369343196357), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 493.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63214 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:11,324 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 11, 29071), 'temperature': np.float64(21.262116210180487), 'humidity': np.float64(49.606531544166955), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331362403987526), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63644 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:11,940 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 11, 668835), 'temperature': np.float64(21.262110686280735), 'humidity': np.float64(49.60652860395068), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136116507739), 'pm10': 0.0, 'mq_raw': 495.0, 'gas': 494.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58351 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:12,491 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 12, 168877), 'temperature': np.float64(21.262110273386597), 'humidity': np.float64(49.60652851248962), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361169484893), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 494.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65001 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:13,247 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 12, 971385), 'temperature': np.float64(21.2621102930131), 'humidity': np.float64(49.60652852654344), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176614053), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 494.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63194 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:13,537 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 13, 264012), 'temperature': np.float64(21.26211029589951), 'humidity': np.float64(49.60652852745569), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136117678955), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 493.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51007 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:14,211 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 13, 934426), 'temperature': np.float64(21.262110295869682), 'humidity': np.float64(49.60652852740187), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176754172), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 492.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64613 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:14,690 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 14, 408629), 'temperature': np.float64(21.262110295852523), 'humidity': np.float64(49.6065285273952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752182), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58597 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:15,453 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 15, 180217), 'temperature': np.float64(21.26211029585221), 'humidity': np.float64(49.60652852739531), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752331), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 491.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53703 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:15,883 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 15, 608637), 'temperature': np.float64(21.262110295852295), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58147 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:16,761 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 16, 224554), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55547 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:17,053 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 16, 778120), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62727 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:17,608 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 17, 317680), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 491.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52548 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:18,219 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 17, 892591), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 491.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62516 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:18,764 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 18, 475033), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65171 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:19,258 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 18, 976923), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58481 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:19,656 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 19, 388916), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54200 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:20,314 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 20, 23086), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53824 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:20,815 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 20, 526141), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65191 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:21,358 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 21, 56013), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 490.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60464 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:21,932 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 21, 658852), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.277789961988056), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.242717022091917), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57133 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:22,524 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 22, 232187), 'temperature': np.float64(21.25365496268563), 'humidity': np.float64(49.122820119919844), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.207007938544152), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49682 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:23,327 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 23, 48246), 'temperature': np.float64(21.25426478812258), 'humidity': np.float64(49.04745825128906), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.189896758881076), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58462 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:23,625 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 23, 344159), 'temperature': np.float64(21.2547535060842), 'humidity': np.float64(48.96869153351251), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.170232846753152), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55834 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:24,329 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 24, 39763), 'temperature': np.float64(21.253918762772194), 'humidity': np.float64(49.218117528705235), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.239036165379709), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60205 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:24,875 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 24, 546213), 'temperature': np.float64(21.261502831136042), 'humidity': np.float64(49.375963348693645), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.277074911799147), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59718 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:25,383 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 25, 106939), 'temperature': np.float64(21.262142030795367), 'humidity': np.float64(49.45185453136459), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.294363772234703), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63323 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:25,887 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 25, 619109), 'temperature': np.float64(21.261693352944405), 'humidity': np.float64(49.53061986784663), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.314019506716384), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 489.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64618 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:26,705 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 26, 407035), 'temperature': np.float64(21.26252215945662), 'humidity': np.float64(49.52774476494337), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.311698069516524), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50211 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:27,028 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 26, 724119), 'temperature': np.float64(21.261279197666045), 'humidity': np.float64(49.52721856976076), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.311521666622589), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52372 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:27,505 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 27, 207277), 'temperature': np.float64(21.26123956808683), 'humidity': np.float64(49.60940467513943), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.333690872347816), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57476 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:28,251 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 27, 982551), 'temperature': np.float64(21.263359315435366), 'humidity': np.float64(49.607057831437274), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331538850947645), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 489.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56866 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:28,684 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 28, 406478), 'temperature': np.float64(21.262150332771366), 'humidity': np.float64(49.60652714485953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331352998736172), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53272 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:29,345 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 29, 75995), 'temperature': np.float64(21.262104358993952), 'humidity': np.float64(49.60652549565097), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331359942210497), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64702 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:29,898 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 29, 566053), 'temperature': np.float64(21.26210990256697), 'humidity': np.float64(49.606528449981724), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361188287325), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:11:29.485315
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50899 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:30,462 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 30, 167273), 'temperature': np.float64(21.26211031836508), 'humidity': np.float64(49.606528542361616), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361184057172), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55764 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:30,880 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 30, 602983), 'temperature': np.float64(21.26211029870898), 'humidity': np.float64(49.606528528253826), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176892479), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 490.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61575 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:31,380 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 31, 99981), 'temperature': np.float64(21.262110295805314), 'humidity': np.float64(49.60652852733486), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176714978), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 491.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55021 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:32,025 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 31, 753422), 'temperature': np.float64(21.26211029583483), 'humidity': np.float64(49.606528527388804), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176750498), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 492.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59823 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:32,709 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 32, 437668), 'temperature': np.float64(21.262110295852075), 'humidity': np.float64(49.60652852739551), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752502), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 492.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63683 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:33,274 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 32, 856789), 'temperature': np.float64(21.262110295852395), 'humidity': np.float64(49.6065285273954), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33136117675236), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 493.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62829 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:33,740 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 33, 427753), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 494.0, 'gas': 493.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54800 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:34,295 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 33, 962794), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 493.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64948 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:34,822 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 34, 529817), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 492.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:35,361 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 35, 58719), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 492.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58304 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:36,418 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 35, 670411), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 491.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55931 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:36,733 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 36, 437751), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 493.0, 'gas': 491.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58136 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:37,309 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 36, 749076), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 491.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53901 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:37,957 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 37, 382828), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55546 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:38,277 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 37, 977639), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56297 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:38,634 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 38, 357439), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53487 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:39,289 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 39, 31111), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 491.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53963 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:39,753 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 39, 474678), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53413 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:40,607 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 40, 336461), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:40,912 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 40, 627945), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54962 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:41,638 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 41, 360733), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 489.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60210 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:42,093 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 41, 807290), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 489.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60287 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:42,528 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 42, 260344), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53392 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:43,384 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 43, 70629), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61768 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:43,671 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 43, 401423), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59971 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:44,298 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 44, 29596), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56808 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:44,859 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 44, 565766), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57423 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:45,631 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 45, 120494), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55943 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:45,923 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 45, 646616), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57007 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:46,715 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 46, 211769), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59311 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:47,010 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 46, 729190), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62414 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:47,584 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 47, 326122), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 489.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50667 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:48,120 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 47, 854064), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 492.0, 'gas': 490.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50737 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:48,699 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 48, 424956), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59956 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:49,417 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 49, 149828), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 490.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50957 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:49,772 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 49, 539723), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 490.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63425 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:50,556 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 50, 306468), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52301 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:50,969 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 50, 692425), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63007 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:51,470 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 51, 254318), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63097 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:52,218 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 51, 930323), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53791 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:52,651 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 52, 374940), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57254 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:53,259 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 53, 522), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59640 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:53,729 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 53, 455810), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63228 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:54,578 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 54, 269847), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55986 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:54,989 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 54, 704082), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:55,392 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 55, 112340), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59526 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:56,281 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 55, 938381), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56346 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:56,658 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 56, 299270), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 489.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62729 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:57,041 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 56, 807891), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 489.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53889 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:57,834 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 57, 629058), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62003 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:58,241 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 57, 981535), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58599 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:58,795 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 58, 560482), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63674 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:59,490 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 59, 270494), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61883 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:41:59,856 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 11, 59, 624955), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 486.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:11:59.563220
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60707 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:00,407 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 0, 190184), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 485.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53967 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:01,055 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 0, 835546), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 484.0, 'gas': 484.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57914 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:01,588 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 1, 356299), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 484.0, 'gas': 483.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52579 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:02,148 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 1, 912623), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 483.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58616 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:02,852 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 2, 595144), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 483.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65490 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:03,200 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 2, 982630), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 484.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60685 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:03,684 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 3, 450119), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 485.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62408 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:04,389 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 4, 161555), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57223 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:04,937 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 4, 689169), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51221 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:05,406 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 5, 184754), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63401 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:06,036 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 5, 818919), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51202 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:06,735 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 6, 344346), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60313 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:07,133 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 6, 847729), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50197 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:08,764 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 7, 506994), 'temperature': np.float64(21.262110295852302), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55526 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:09,737 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 8, 776579), 'temperature': np.float64(21.2621102958523), 'humidity': np.float64(49.606528527395355), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.331361176752345), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58009 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:10,123 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 9, 750146), 'temperature': np.float64(21.17992565450048), 'humidity': np.float64(49.58436748873025), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.329247343460679), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57102 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:11,037 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 10, 139028), 'temperature': np.float64(21.10009087330751), 'humidity': np.float64(49.564359698510756), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32834288317408), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58887 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:11,894 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 11, 51318), 'temperature': np.float64(21.102971496567207), 'humidity': np.float64(49.56669878748407), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.329598207489937), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61842 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:12,927 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 11, 905717), 'temperature': np.float64(21.021319252619893), 'humidity': np.float64(49.544716638605706), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32752477909731), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60020 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:13,583 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 12, 940117), 'temperature': np.float64(21.02366779189999), 'humidity': np.float64(49.54686169009531), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328728189939753), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55159 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:14,248 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 13, 596322), 'temperature': np.float64(21.024195507498796), 'humidity': np.float64(49.54704628867533), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328773745173145), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59677 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:15,087 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 14, 259925), 'temperature': np.float64(20.9420124222454), 'humidity': np.float64(49.52487831070313), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.326654388047096), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56310 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:15,350 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 15, 131222), 'temperature': np.float64(20.944359342254916), 'humidity': np.float64(49.52703032027757), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327863348175562), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62060 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:15,777 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 15, 540674), 'temperature': np.float64(20.944890013901006), 'humidity': np.float64(49.85595473062173), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.416553473773405), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56540 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:16,145 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 15, 938557), 'temperature': np.float64(20.953346995424987), 'humidity': np.float64(50.010917629077966), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.452257013795737), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64508 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:16,531 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 16, 315877), 'temperature': np.float64(20.952734215717783), 'humidity': np.float64(50.086278251669185), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.469367777678094), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64017 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:16,948 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 16, 714956), 'temperature': np.float64(20.952245405382776), 'humidity': np.float64(50.16504497367771), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.489031709462346), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51119 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:17,195 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 16, 982874), 'temperature': np.float64(20.953080162802422), 'humidity': np.float64(50.24435755105683), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.508872548399786), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60445 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:17,570 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 17, 355687), 'temperature': np.float64(20.953951428524164), 'humidity': np.float64(50.241481573314104), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.506542885498597), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59438 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:18,486 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 17, 758119), 'temperature': np.float64(20.95270240337395), 'humidity': np.float64(50.32313690059026), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.528526243373975), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56957 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:18,728 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 18, 500234), 'temperature': np.float64(20.954776196548245), 'humidity': np.float64(50.3207884217239), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526381172574283), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63645 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:19,040 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 18, 813533), 'temperature': np.float64(20.953572760343086), 'humidity': np.float64(50.32026069038923), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526196566615305), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:19,358 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 19, 148469), 'temperature': np.float64(20.953527202334072), 'humidity': np.float64(50.32025913350682), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526203505824135), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63788 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:19,831 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 19, 619075), 'temperature': np.float64(20.95353272623383), 'humidity': np.float64(50.3202620737231), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204744734272), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59595 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:20,253 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 20, 47328), 'temperature': np.float64(20.953533139127963), 'humidity': np.float64(50.320262165184154), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204740326762), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53099 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:20,923 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 20, 523839), 'temperature': np.float64(20.95353311950146), 'humidity': np.float64(50.320262151130336), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52620473319761), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59008 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:21,304 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 20, 994390), 'temperature': np.float64(20.953533116615052), 'humidity': np.float64(50.320262150218085), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733022112), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51954 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:21,760 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 21, 319039), 'temperature': np.float64(20.953533116644884), 'humidity': np.float64(50.320262150271915), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52620473305749), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49684 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:22,469 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 21, 773640), 'temperature': np.float64(20.95353311666204), 'humidity': np.float64(50.32026215027858), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733059473), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53922 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:22,878 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 22, 482277), 'temperature': np.float64(20.953533116662353), 'humidity': np.float64(50.32026215027847), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52620473305933), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59799 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:23,293 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 22, 887764), 'temperature': np.float64(20.953533116662264), 'humidity': np.float64(50.320262150278424), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733059316), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62203 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:23,624 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 23, 309074), 'temperature': np.float64(20.953533116662264), 'humidity': np.float64(50.320262150278424), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733059316), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58521 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:24,087 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 23, 712565), 'temperature': np.float64(20.953533116662257), 'humidity': np.float64(50.320262150278424), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733059316), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54006 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:24,564 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 24, 112988), 'temperature': np.float64(20.953533116662264), 'humidity': np.float64(50.320262150278424), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.526204733059316), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58481 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:25,132 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 24, 724856), 'temperature': np.float64(21.035717758014087), 'humidity': np.float64(50.34242318894353), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.528318566350983), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53533 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:25,539 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 25, 232449), 'temperature': np.float64(21.033367897855225), 'humidity': np.float64(50.34026994049792), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527109193345915), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60073 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:26,026 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 25, 811224), 'temperature': np.float64(21.032837134754395), 'humidity': np.float64(50.34008409997021), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527063242035126), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61473 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:26,675 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 26, 464161), 'temperature': np.float64(21.03283550045071), 'humidity': np.float64(50.34009105071117), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527068788446876), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49877 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:27,207 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 26, 964067), 'temperature': np.float64(21.11502309698499), 'humidity': np.float64(50.36225333559132), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529183037489418), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64509 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:27,699 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 27, 448037), 'temperature': np.float64(21.112673329145693), 'humidity': np.float64(50.36010008287836), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52797364481087), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61934 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:28,306 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 28, 85376), 'temperature': np.float64(21.112142551930553), 'humidity': np.float64(50.359914235184135), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527927690596194), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63414 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:28,810 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 28, 608427), 'temperature': np.float64(21.194325558059894), 'humidity': np.float64(50.38208222441286), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.530047070329218), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57724 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:29,365 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 29, 138162), 'temperature': np.float64(21.19197865313746), 'humidity': np.float64(50.37993022221782), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.528838113092277), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56039 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:30,157 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 29, 818844), 'temperature': np.float64(21.27363262371474), 'humidity': np.float64(50.40190541608988), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.530905975399996), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:12:29.577741
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63676 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:30,836 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 30, 296814), 'temperature': np.float64(21.271281115137764), 'humidity': np.float64(50.39975911121856), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529702145902696), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55870 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:31,089 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 30, 847926), 'temperature': np.float64(21.27075330630055), 'humidity': np.float64(50.39957451672855), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529656610372392), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49999 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:31,770 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 31, 514863), 'temperature': np.float64(21.270751764370402), 'humidity': np.float64(50.39958146323769), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662137127907), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52691 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:32,404 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 32, 102712), 'temperature': np.float64(21.270754705445263), 'humidity': np.float64(50.399582702288214), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662549975221), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57563 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:32,834 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 32, 532765), 'temperature': np.float64(21.270754796845907), 'humidity': np.float64(50.39958269784337), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662530331251), 'pm10': 0.0, 'mq_raw': 491.0, 'gas': 488.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60253 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:33,488 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 33, 210109), 'temperature': np.float64(21.270754782785538), 'humidity': np.float64(50.39958269071238), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527444621), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 489.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63598 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:33,922 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 33, 610326), 'temperature': np.float64(21.270754781873443), 'humidity': np.float64(50.39958269053703), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527474535), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 489.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51360 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:35,235 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 34, 249912), 'temperature': np.float64(21.27075478192731), 'humidity': np.float64(50.39958269057243), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491702), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 488.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54076 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:35,712 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 35, 252778), 'temperature': np.float64(21.27075478193398), 'humidity': np.float64(50.39958269057441), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527492015), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53747 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:36,130 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 35, 729512), 'temperature': np.float64(21.27075478193386), 'humidity': np.float64(50.39958269057427), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966252749193), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59018 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:36,540 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 36, 176999), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62969 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:36,805 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 36, 554402), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58003 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:37,291 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 37, 23492), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62230 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:37,988 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 37, 715364), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49892 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:38,428 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 38, 142551), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50649 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:39,009 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 38, 749359), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.39958269057426), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61149 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:39,729 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 39, 453196), 'temperature': np.float64(21.27075478193382), 'humidity': np.float64(50.39958269057425), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662527491922), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52625 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:40,152 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 39, 872200), 'temperature': np.float64(21.270754781933825), 'humidity': np.float64(50.728321255981555), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.618306682152351), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53130 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:40,719 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 40, 451684), 'temperature': np.float64(21.279210115100494), 'humidity': np.float64(50.88329109804977), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.654015765700116), 'pm10': 0.0, 'mq_raw': 490.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50498 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:41,183 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 40, 861216), 'temperature': np.float64(21.278600289663544), 'humidity': np.float64(50.958652966680546), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.671126945363191), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51712 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:41,958 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 41, 702966), 'temperature': np.float64(21.27811157170192), 'humidity': np.float64(51.0374196844571), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.690790857491116), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 488.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55433 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:42,245 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 41, 973659), 'temperature': np.float64(21.278946315013933), 'humidity': np.float64(51.11673225467168), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.710631693524988), 'pm10': 0.0, 'mq_raw': 489.0, 'gas': 488.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54973 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:42,885 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 42, 627230), 'temperature': np.float64(21.27981757981675), 'humidity': np.float64(51.11385627675148), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.708302030653314), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 488.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50269 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:43,508 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 43, 246728), 'temperature': np.float64(21.27856855472048), 'humidity': np.float64(51.19551160406314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.730285388545937), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 487.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60482 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:43,956 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 43, 634440), 'temperature': np.float64(21.280642347901484), 'humidity': np.float64(51.19316312519879), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.728140317746565), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62645 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:44,545 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 44, 290985), 'temperature': np.float64(21.279438911696204), 'humidity': np.float64(51.19263539386398), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727955711787494), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56792 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:45,239 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 44, 976135), 'temperature': np.float64(21.27939335368715), 'humidity': np.float64(51.19263383698155), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727962650996318), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58208 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:45,567 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 45, 307054), 'temperature': np.float64(21.279398877586907), 'humidity': np.float64(51.19263677719783), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963889906462), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62349 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:46,118 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 45, 864308), 'temperature': np.float64(21.279399290481045), 'humidity': np.float64(51.19263686865889), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963885498951), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64147 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:46,919 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 46, 646393), 'temperature': np.float64(21.27939927085454), 'humidity': np.float64(51.19263685460507), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878369799), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54803 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:47,293 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 47, 38690), 'temperature': np.float64(21.27939926796813), 'humidity': np.float64(51.19263685369282), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878194302), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57221 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:47,836 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 47, 576104), 'temperature': np.float64(21.27939926799796), 'humidity': np.float64(51.19263685374664), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878229673), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54232 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:48,610 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 48, 339613), 'temperature': np.float64(21.27939926801512), 'humidity': np.float64(51.192636853753314), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231662), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60345 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:48,987 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 48, 734040), 'temperature': np.float64(21.279399268015435), 'humidity': np.float64(51.1926368537532), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.72796387823152), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49904 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:49,596 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 49, 273971), 'temperature': np.float64(21.279399268015347), 'humidity': np.float64(51.19263685375315), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231499), 'pm10': 0.0, 'mq_raw': 488.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57073 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:50,216 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 49, 923880), 'temperature': np.float64(21.279399268015343), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58391 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:50,647 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 50, 359001), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49681 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:51,298 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 51, 47546), 'temperature': np.float64(21.279399268015343), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 486.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62380 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:51,880 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 51, 624889), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 487.0, 'gas': 487.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56182 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:52,281 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 52, 13754), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65375 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:53,030 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 52, 765450), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61501 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:53,457 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 53, 168890), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 486.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65078 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:54,233 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 53, 770882), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 485.0, 'gas': 486.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55317 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:54,707 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 54, 252522), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 485.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62526 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:55,154 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 54, 807432), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(51.19263685375316), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.727963878231506), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 485.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62506 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:55,925 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 55, 607524), 'temperature': np.float64(21.27939926801534), 'humidity': np.float64(50.86389828834585), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.639319723571077), 'pm10': 0.0, 'mq_raw': 486.0, 'gas': 485.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64539 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:56,209 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 55, 943510), 'temperature': np.float64(21.270943934848667), 'humidity': np.float64(50.70892844627764), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.603610640023312), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 485.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51063 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:56,942 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 56, 586557), 'temperature': np.float64(21.27155376028562), 'humidity': np.float64(50.63356657764686), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.586499460360237), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 484.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56674 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:57,337 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 57, 71080), 'temperature': np.float64(21.27204247824724), 'humidity': np.float64(50.55479985987031), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.56683554823232), 'pm10': 0.0, 'mq_raw': 483.0, 'gas': 484.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51599 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:58,423 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 57, 825961), 'temperature': np.float64(21.27120773493524), 'humidity': np.float64(50.47548728965573), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.54699471219844), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 483.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49365 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:58,945 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 58, 438303), 'temperature': np.float64(21.270336470132406), 'humidity': np.float64(50.47836326757593), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.549324375070114), 'pm10': 0.0, 'mq_raw': 482.0, 'gas': 482.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64765 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:59,245 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 58, 953820), 'temperature': np.float64(21.271585495228685), 'humidity': np.float64(50.396707940264264), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.527341017177491), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 482.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52551 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:42:59,771 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 59, 255743), 'temperature': np.float64(21.26951170204768), 'humidity': np.float64(50.39905641912862), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529486087976863), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 481.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58621 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:00,162 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 12, 59, 888420), 'temperature': np.float64(21.27071513825296), 'humidity': np.float64(50.39958415046343), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529670693935934), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:12:59.858499
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53314 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:00,715 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 0, 463300), 'temperature': np.float64(21.27076069626201), 'humidity': np.float64(50.399585707345864), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.52966375472711), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60619 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:01,675 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 1, 118193), 'temperature': np.float64(21.270755172362254), 'humidity': np.float64(50.39958276712957), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662515816966), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53855 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:01,919 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 1, 692295), 'temperature': np.float64(21.27075475946812), 'humidity': np.float64(50.39958267566852), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.529662520224477), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57930 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:02,881 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 2, 67082), 'temperature': np.float64(21.270754779094624), 'humidity': np.float64(50.07084412431504), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.441018372693208), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58848 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:03,100 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 2, 896261), 'temperature': np.float64(21.26229944881436), 'humidity': np.float64(49.91587428315907), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.405309289320932), 'pm10': 0.0, 'mq_raw': 482.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51172 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:03,496 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 3, 262983), 'temperature': np.float64(21.262909274221485), 'humidity': np.float64(49.840512414474475), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.388198109622486), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60975 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:04,084 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 3, 796864), 'temperature': np.float64(21.26339799216594), 'humidity': np.float64(49.76174569669125), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.368534197492572), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50941 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:04,611 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 4, 319702), 'temperature': np.float64(21.262563248853624), 'humidity': np.float64(49.68243312647679), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.34869336145885), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65370 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:05,471 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 4, 901198), 'temperature': np.float64(21.261691984050884), 'humidity': np.float64(49.685309104397035), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.351023024330537), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51428 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:05,724 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 5, 482874), 'temperature': np.float64(21.262941009147166), 'humidity': np.float64(49.60365377708537), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.329039666437914), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 480.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60887 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:06,245 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 5, 970685), 'temperature': np.float64(21.260867215966158), 'humidity': np.float64(49.60600225594972), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.33118473723728), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64079 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:06,958 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 6, 668709), 'temperature': np.float64(21.097701369467785), 'humidity': np.float64(49.562207909954324), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327141676613017), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52365 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:07,341 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 7, 86172), 'temperature': np.float64(21.020262006442735), 'humidity': np.float64(49.54435492506286), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32743965012267), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58778 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:07,930 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 7, 615940), 'temperature': np.float64(21.0236678689035), 'humidity': np.float64(49.54687691434761), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328739686839171), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64559 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:08,634 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 8, 321464), 'temperature': np.float64(21.02420148771757), 'humidity': np.float64(49.54704876193233), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328774549733971), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54152 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:09,112 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 8, 749733), 'temperature': np.float64(20.942012589931025), 'humidity': np.float64(49.52487829415), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32665434565795), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54823 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:10,449 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 9, 358056), 'temperature': np.float64(20.944359313154713), 'humidity': np.float64(49.52703030582752), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327863342434604), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59416 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:11,041 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 10, 466927), 'temperature': np.float64(20.94489001213476), 'humidity': np.float64(49.52721616490179), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327909319191264), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64924 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:11,353 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 11, 50861), 'temperature': np.float64(20.944891662373195), 'humidity': np.float64(49.52720922167536), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903775622211), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59160 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:12,569 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 11, 364342), 'temperature': np.float64(20.94488870800128), 'humidity': np.float64(49.52720797556671), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903359807365), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 481.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49681 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:12,932 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 12, 578754), 'temperature': np.float64(20.9448886156144), 'humidity': np.float64(49.52720797979456), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903379462974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57924 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:13,497 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 12, 985960), 'temperature': np.float64(20.944888629722232), 'humidity': np.float64(49.52720798695937), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382366713), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 480.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61960 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:13,853 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 13, 545075), 'temperature': np.float64(20.94488863064123), 'humidity': np.float64(49.52720798713689), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382337212), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63834 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:14,140 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 13, 863221), 'temperature': np.float64(20.9448886305873), 'humidity': np.float64(49.52720798710136), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231996), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53457 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:14,447 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 14, 166743), 'temperature': np.float64(20.944888630580582), 'humidity': np.float64(49.52720798709936), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231964), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 478.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54778 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:14,846 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 14, 600975), 'temperature': np.float64(20.9448886305807), 'humidity': np.float64(49.52720798709951), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 478.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62058 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:15,201 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 14, 959943), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 478.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61490 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:15,751 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 15, 492256), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 478.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65045 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:16,584 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 16, 6127), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 478.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52721 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:16,818 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 16, 599664), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 478.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64705 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:17,326 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 17, 117551), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 478.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54710 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:17,938 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 17, 727545), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57383 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:18,443 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 18, 239213), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52451 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:19,030 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 18, 787640), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59881 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:19,634 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 19, 416795), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61543 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:20,175 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 19, 947768), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59921 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:20,777 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 20, 470183), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58226 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:21,433 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 21, 201375), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51526 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:21,906 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 21, 706498), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58841 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:22,451 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 22, 203406), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54985 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:23,049 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 22, 812298), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59865 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:23,530 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 23, 325475), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62574 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:24,050 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 23, 814344), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54272 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:24,750 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 24, 518809), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57278 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:25,300 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 25, 56679), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58328 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:25,968 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 25, 606501), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62731 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:26,555 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 26, 133703), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 480.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60336 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:27,098 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 26, 719293), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 480.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62660 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:27,502 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 27, 233978), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 480.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65304 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:28,007 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 27, 713035), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64024 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:28,633 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 28, 382392), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59036 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:29,123 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 28, 873736), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54879 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:29,957 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 29, 389686), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51587 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:30,196 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 29, 966903), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:13:29.958887
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54057 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:30,731 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 30, 531870), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54507 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:31,298 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 31, 78387), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51602 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:31,841 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 31, 633490), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62036 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:32,718 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 32, 233165), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53930 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:32,938 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 32, 734496), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50330 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:33,518 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 33, 306163), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50901 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:34,116 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 33, 914556), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54979 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:34,608 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 34, 403647), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62631 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:35,155 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 34, 952358), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:35,818 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 35, 606630), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53107 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:36,637 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 36, 75424), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 479.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58974 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:36,914 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 36, 648361), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56375 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:37,527 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 37, 313562), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 477.0, 'gas': 479.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58211 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:38,014 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 37, 801337), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 478.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52634 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:38,515 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 38, 311298), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 481.0, 'gas': 479.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52633 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:39,120 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 38, 917951), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 479.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59216 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:39,622 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 39, 417633), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 478.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60279 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:40,204 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 39, 998116), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 478.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58892 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:40,839 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 40, 633044), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 477.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59716 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:41,327 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 41, 122309), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 476.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59613 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:41,857 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 41, 659253), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 476.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62254 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:42,477 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 42, 267149), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 479.0, 'gas': 477.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55885 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:43,010 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 42, 791496), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 477.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60290 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:43,567 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 43, 341691), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 480.0, 'gas': 478.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63810 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:44,201 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 43, 997224), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 478.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64500 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:44,701 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 44, 494623), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 478.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60703 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:45,245 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 45, 13044), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 477.0, 'gas': 477.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60789 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:45,894 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 45, 690443), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 477.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56117 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:46,367 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 46, 171842), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 476.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54438 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:46,886 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 46, 684831), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 477.0, 'gas': 476.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55898 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:47,526 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 47, 318042), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 476.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62736 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:48,266 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 47, 812021), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51231 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:48,594 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 48, 393997), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53461 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:49,189 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 48, 970034), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50735 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:49,697 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 49, 486721), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65382 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:50,270 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 50, 34035), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59428 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:50,939 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 50, 722760), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 475.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50873 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:51,427 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 51, 216903), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 475.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53867 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:52,186 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 51, 718073), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:52,579 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 52, 338373), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56105 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:53,215 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 53, 10835), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 475.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51677 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:53,730 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 53, 517269), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.198469421692224), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.23925922765931), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 475.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55930 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:54,273 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 54, 24055), 'temperature': np.float64(20.93643329741407), 'humidity': np.float64(49.04349957962401), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.203550144111539), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 475.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51523 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:54,928 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 54, 694244), 'temperature': np.float64(20.93704312285102), 'humidity': np.float64(48.96813771099323), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.18643896444847), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 475.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56862 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:55,246 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 55, 46718), 'temperature': np.float64(20.937531840812646), 'humidity': np.float64(48.88937099321668), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.166775052320546), 'pm10': 0.0, 'mq_raw': 477.0, 'gas': 476.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55387 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:56,098 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 55, 619448), 'temperature': np.float64(20.936697097500634), 'humidity': np.float64(48.8100584230021), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.146934216286674), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 476.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58775 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:56,473 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 56, 265702), 'temperature': np.float64(20.93582583269781), 'humidity': np.float64(48.8129344009223), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.149263879158347), 'pm10': 0.0, 'mq_raw': 478.0, 'gas': 477.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58074 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:57,028 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 56, 808822), 'temperature': np.float64(20.937074857794087), 'humidity': np.float64(48.73127907361064), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.127280521265725), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 477.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57886 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:57,667 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 57, 447090), 'temperature': np.float64(20.93500106461308), 'humidity': np.float64(48.733627552474985), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.129425592065097), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 476.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55269 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:58,124 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 57, 912522), 'temperature': np.float64(20.936204500818363), 'humidity': np.float64(49.062893849217105), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.218254352684589), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 476.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57500 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:58,617 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 58, 407304), 'temperature': np.float64(20.944705391994084), 'humidity': np.float64(49.21786524816774), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.253956497023538), 'pm10': 0.0, 'mq_raw': 475.0, 'gas': 475.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:59,284 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 59, 59709), 'temperature': np.float64(20.94409004265738), 'humidity': np.float64(49.29322417658224), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.271066437776469), 'pm10': 0.0, 'mq_raw': 476.0, 'gas': 475.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60113 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:43:59,762 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 13, 59, 562670), 'temperature': np.float64(20.943600911801617), 'humidity': np.float64(49.371990802897734), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.290730354311897), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 475.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52062 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:00,336 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 0, 82558), 'temperature': np.float64(20.94443567474013), 'humidity': np.float64(49.451303387166135), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.310571197474921), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 475.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:13:59.967772
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57338 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:00,993 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 0, 792610), 'temperature': np.float64(20.94530694242936), 'humidity': np.float64(49.448427410158175), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.308241534778745), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 474.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61184 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:01,505 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 1, 302323), 'temperature': np.float64(20.944057917303258), 'humidity': np.float64(49.53008273741602), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.330224892635997), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 474.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54129 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:01,974 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 1, 775024), 'temperature': np.float64(20.946131710467107), 'humidity': np.float64(49.527734258544996), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.328079821834635), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 473.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51695 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:02,569 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 2, 365548), 'temperature': np.float64(20.944928274261514), 'humidity': np.float64(49.5272065272103), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327895215875706), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 473.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51569 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:03,105 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 2, 884608), 'temperature': np.float64(20.944882716252543), 'humidity': np.float64(49.527204970327915), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327902155084551), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 473.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55743 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:03,638 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 3, 430399), 'temperature': np.float64(20.94488824015231), 'humidity': np.float64(49.527207910544206), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903393994688), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 473.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55145 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:04,291 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 4, 80441), 'temperature': np.float64(20.944888653046448), 'humidity': np.float64(49.52720800200525), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903389587185), 'pm10': 0.0, 'mq_raw': 474.0, 'gas': 473.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58383 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:04,772 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 4, 554767), 'temperature': np.float64(20.944888633419943), 'humidity': np.float64(49.52720798795144), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382458032), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 473.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58618 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:05,331 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 5, 104967), 'temperature': np.float64(20.94488863053353), 'humidity': np.float64(49.52720798703919), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382282528), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 473.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58933 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:06,089 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 5, 867570), 'temperature': np.float64(20.944888630563362), 'humidity': np.float64(49.52720798709301), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382317906), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 473.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52604 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:06,425 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 6, 220548), 'temperature': np.float64(20.944888630580515), 'humidity': np.float64(49.52720798709968), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319896), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 472.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60845 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:07,021 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 6, 776442), 'temperature': np.float64(20.944888630580834), 'humidity': np.float64(49.527207987099565), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319754), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 472.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51151 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:07,637 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 7, 420426), 'temperature': np.float64(20.944888630580746), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 472.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64307 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:08,167 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 7, 965251), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 472.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61888 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:08,693 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 8, 460676), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 472.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53397 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:09,327 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 9, 54877), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 472.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60458 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:09,809 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 9, 596798), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 472.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65265 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:10,314 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 10, 111214), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 473.0, 'gas': 472.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63053 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:11,009 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 10, 724256), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 472.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59410 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:11,540 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 11, 271460), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 472.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49680 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:12,143 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 11, 828766), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 472.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65430 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:12,678 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 12, 427707), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709952), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.327903382319732), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 471.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58615 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:13,341 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 13, 80664), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.52720798709953), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.32790338231974), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 471.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60805 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:14,110 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 13, 610170), 'temperature': np.float64(20.944888630580742), 'humidity': np.float64(49.198469421692224), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.23925922765931), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 470.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65167 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:16,051 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 14, 128970), 'temperature': np.float64(20.93643329741407), 'humidity': np.float64(49.04349957962401), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.203550144111539), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 469.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Statistical Outlier', 'smart_insight': '\u26a0\ufe0f Anomaly Detected: Statistical Outlier behavior is unusual.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62531 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:17,432 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 16, 67751), 'temperature': np.float64(20.93704312285102), 'humidity': np.float64(48.96813771099323), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.18643896444847), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49683 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:17,954 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 17, 448686), 'temperature': np.float64(20.937531840812646), 'humidity': np.float64(48.88937099321668), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.166775052320546), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64152 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:18,358 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 17, 965575), 'temperature': np.float64(20.772327814796984), 'humidity': np.float64(48.76573634567188), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.142706549703334), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 469.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58005 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:18,762 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 18, 381819), 'temperature': np.float64(20.69397162896005), 'humidity': np.float64(48.7507577818182), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.145341125293484), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 470.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62634 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:19,252 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 18, 996453), 'temperature': np.float64(20.616447399065027), 'humidity': np.float64(48.649466345342454), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.12254520973584), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 470.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51259 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:19,737 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 19, 445698), 'temperature': np.float64(20.617257497751083), 'humidity': np.float64(48.6541400116982), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125934512027577), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 471.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62523 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:20,201 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 19, 914004), 'temperature': np.float64(20.536802779644145), 'humidity': np.float64(48.63268310172457), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.124044858092255), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 471.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55241 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:20,732 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 20, 372092), 'temperature': np.float64(20.539196692294162), 'humidity': np.float64(48.63482971863131), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125241369072846), 'pm10': 0.0, 'mq_raw': 472.0, 'gas': 471.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58822 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:21,025 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 20, 745272), 'temperature': np.float64(20.539718912221833), 'humidity': np.float64(48.63501139132808), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125285691203857), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 471.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64841 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:21,668 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 21, 104127), 'temperature': np.float64(20.53972005726373), 'humidity': np.float64(48.63500436091462), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125280171717776), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 471.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59545 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:21,965 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 21, 686109), 'temperature': np.float64(20.539717136632934), 'humidity': np.float64(48.635003136026185), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279765935822), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 470.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64406 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:22,359 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 22, 75986), 'temperature': np.float64(20.539717048051173), 'humidity': np.float64(48.63500314134358), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279785737312), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 470.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61108 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:22,721 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 22, 469371), 'temperature': np.float64(20.539717062075198), 'humidity': np.float64(48.63500314841904), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.12527978858843), 'pm10': 0.0, 'mq_raw': 471.0, 'gas': 469.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62905 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:23,170 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 22, 918411), 'temperature': np.float64(20.539717062970325), 'humidity': np.float64(48.635003148587884), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788556618), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61296 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:23,555 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 23, 314536), 'temperature': np.float64(20.539717062916196), 'humidity': np.float64(48.63500314855263), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.1252797885396), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 469.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61316 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:24,038 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 23, 762452), 'temperature': np.float64(20.53971706290961), 'humidity': np.float64(48.63500314855067), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539302), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53717 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:24,639 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 24, 336078), 'temperature': np.float64(20.53971706290973), 'humidity': np.float64(48.63500314855082), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 469.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61196 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:24,899 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 24, 652600), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855083), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 469.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62651 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:25,285 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 25, 20644), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 466.0, 'gas': 468.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62961 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:25,742 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 25, 491173), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56942 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:26,147 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 25, 881309), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 466.0, 'gas': 467.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56173 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:26,761 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 26, 500834), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 466.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49861 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:27,417 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 26, 873116), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 466.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54604 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:27,757 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 27, 432908), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 467.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64707 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:28,477 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 28, 222840), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52148 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:28,816 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 28, 609756), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59740 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:29,358 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 29, 87209), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 468.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61821 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:29,902 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 29, 654865), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 468.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:58668 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:30,506 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 30, 239414), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 468.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[Cache] Refreshed 15 markers at 2026-02-17 18:14:29.971886
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:56764 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:31,072 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 30, 798474), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 469.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:50461 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:31,774 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 31, 524827), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51601 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:32,182 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 31, 914202), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:49746 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:32,775 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 32, 520930), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 470.0, 'gas': 469.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63951 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:33,497 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 33, 249132), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 469.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60977 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:33,860 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 33, 602422), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 469.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53002 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:34,434 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 34, 182964), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 469.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60620 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:35,579 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 34, 914496), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.6, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64628 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:35,844 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 35, 596859), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65350 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:36,117 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 35, 871430), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 468.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57884 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:36,810 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 36, 563957), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62470 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:37,461 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 36, 933242), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:51986 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:37,764 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 37, 476043), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 468.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:57673 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:38,368 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 38, 118445), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 468.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65034 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:38,957 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 38, 703203), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64025 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:39,506 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 39, 248528), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 468.2, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54178 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:40,194 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 39, 959790), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 466.0, 'gas': 467.8, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:55096 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:40,549 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 40, 333798), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 466.0, 'gas': 467.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65477 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:41,082 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 40, 855096), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 469.0, 'gas': 467.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:65189 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:41,698 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 41, 476265), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.2, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59709 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:42,151 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 41, 930877), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:52782 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:42,714 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 42, 491767), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61750 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:43,269 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 43, 47158), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:53676 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:43,812 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 43, 601330), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 467.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:60539 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:44,368 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 44, 157677), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 467.0, 'gas': 467.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61358 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:44,952 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 44, 737923), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.4, 'rain': 4095.0, 'motion': 0, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:63456 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:45,756 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 45, 286714), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.4, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:54947 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:46,091 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 45, 870488), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.6, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:64661 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:46,792 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 46, 559015), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 467.8, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:62443 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:47,380 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 47, 117216), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59332 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:47,901 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 47, 649239), 'temperature': np.float64(20.53971706290977), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:61081 - "POST /iot/data HTTP/1.1" 200 OK
2026-02-17 23:44:48,584 [ERROR] app.main: IoT Data Error: (psycopg2.errors.UndefinedColumn) column "mq_raw" of relation "sensor_data" does not exist
LINE 1: ...ure, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, ga...
                                                             ^

[SQL: INSERT INTO sensor_data (device_id, timestamp, temperature, humidity, pressure, wind_speed, pm2_5, pm10, mq_raw, gas, rain, motion, ph, trust_score, anomaly_label, smart_insight, user_id) VALUES (%(device_id)s, %(timestamp)s, %(temperature)s, %(humidity)s, %(pressure)s, %(wind_speed)s, %(pm2_5)s, %(pm10)s, %(mq_raw)s, %(gas)s, %(rain)s, %(motion)s, %(ph)s, %(trust_score)s, %(anomaly_label)s, %(smart_insight)s, %(user_id)s) RETURNING sensor_data.id]
[parameters: {'device_id': 'ESP32_MAIN', 'timestamp': datetime.datetime(2026, 2, 17, 18, 14, 48, 82962), 'temperature': np.float64(20.539717062909773), 'humidity': np.float64(48.63500314855084), 'pressure': 1013.0, 'wind_speed': 0.0, 'pm2_5': np.float64(11.125279788539395), 'pm10': 0.0, 'mq_raw': 468.0, 'gas': 468.0, 'rain': 4095.0, 'motion': 1, 'ph': 7.0, 'trust_score': 100.0, 'anomaly_label': 'Normal', 'smart_insight': 'System operating within normal parameters.', 'user_id': None}]
(Background on this error at: https://sqlalche.me/e/20/f405)
DEBUG: Using Device ID: ESP32_MAIN for email: None
INFO:     127.0.0.1:59549 - "POST /iot/data HTTP/1.1" 200 OK
