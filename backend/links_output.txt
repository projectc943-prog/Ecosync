Loading environment from: C:\Users\sreek\OneDrive\Desktop\IOT_PROJECT\Ecosync\backend\.env.local
--- DATABASE INITIALIZATION ---
URL: aws-1-ap-south-1.pooler.supabase.com:6543/postgres?sslmode=require
--- DEVICE & USER LINK CHECK ---
2026-02-18 15:26:23,507 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 15:26:23,507 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 15:26:23,588 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 15:26:23,588 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 15:26:23,683 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 15:26:23,683 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 15:26:23,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 15:26:23,765 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.plan AS users_plan, users.location_name AS users_location_name, users.location_lat AS users_location_lat, users.location_lon AS users_location_lon, users.mobile AS users_mobile, users.is_verified AS users_is_verified, users.otp_secret AS users_otp_secret, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 15:26:23,766 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'email_1': 'skunthal@gitam.in', 'param_1': 1}
User: skunthal@gitam.in, ID: 6
2026-02-18 15:26:23,858 INFO sqlalchemy.engine.Engine SELECT devices.id AS devices_id, devices.name AS devices_name, devices.connector_type AS devices_connector_type, devices.lat AS devices_lat, devices.lon AS devices_lon, devices.status AS devices_status, devices.last_seen AS devices_last_seen, devices.user_id AS devices_user_id 
FROM devices 
WHERE devices.user_id = %(user_id_1)s
2026-02-18 15:26:23,858 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'user_id_1': 6}
Owned Devices: ['DASHBOARD_skunthal_gitam_in']

--- ALL DEVICES ---
2026-02-18 15:26:23,906 INFO sqlalchemy.engine.Engine SELECT devices.id AS devices_id, devices.name AS devices_name, devices.connector_type AS devices_connector_type, devices.lat AS devices_lat, devices.lon AS devices_lon, devices.status AS devices_status, devices.last_seen AS devices_last_seen, devices.user_id AS devices_user_id 
FROM devices
2026-02-18 15:26:23,906 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {}
ID: TEST_UNIT, UserID: None, Name: ESP32 Unit
ID: DASHBOARD_ESP32_GLOBAL_STREAM, UserID: None, Name: Sector Explorer (ESP32_GLOBAL_STREAM)
ID: DASHBOARD_gsrujana456_gmail_com, UserID: None, Name: Sector Explorer (gsrujana456@gmail.com)
ID: TEST_DEVICE_002, UserID: None, Name: Rich Email Test Sensor
ID: DASHBOARD_skunthal_gitam_in, UserID: 6, Name: Sector Explorer (skunthal@gitam.in)
ID: DASHBOARD_sreekar092004_gmail_com, UserID: None, Name: Sector Explorer (sreekar092004@gmail.com)
ID: ESP32_MAIN, UserID: None, Name: Sector Explorer (Public)
ID: DASHBOARD_sreekar_example_com, UserID: None, Name: Sector Explorer (sreekar@example.com)
ID: TEST_DEVICE_001, UserID: None, Name: Test Sensor

--- RECENT READINGS (GLOBAL) ---
2026-02-18 15:26:23,954 INFO sqlalchemy.engine.Engine SELECT sensor_data.id AS sensor_data_id, sensor_data.device_id AS sensor_data_device_id, sensor_data.timestamp AS sensor_data_timestamp, sensor_data.temperature AS sensor_data_temperature, sensor_data.humidity AS sensor_data_humidity, sensor_data.pressure AS sensor_data_pressure, sensor_data.wind_speed AS sensor_data_wind_speed, sensor_data.pm2_5 AS sensor_data_pm2_5, sensor_data.pm10 AS sensor_data_pm10, sensor_data.mq_raw AS sensor_data_mq_raw, sensor_data.gas AS sensor_data_gas, sensor_data.rain AS sensor_data_rain, sensor_data.motion AS sensor_data_motion, sensor_data.ph AS sensor_data_ph, sensor_data.trust_score AS sensor_data_trust_score, sensor_data.anomaly_label AS sensor_data_anomaly_label, sensor_data.smart_insight AS sensor_data_smart_insight, sensor_data.user_id AS sensor_data_user_id 
FROM sensor_data ORDER BY sensor_data.timestamp DESC 
 LIMIT %(param_1)s
2026-02-18 15:26:23,954 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'param_1': 5}
TS: 2026-02-18 09:55:23.179185+00:00, Device: ESP32_MAIN, Temp: 25.0, UserID: None
2026-02-18 15:26:24,010 INFO sqlalchemy.engine.Engine ROLLBACK
